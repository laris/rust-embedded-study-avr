try { 


	var __IntegralASConfig = {
		jsDoSplit: false,
		debug: "false",
		jsDiag: 'false',
		version: '19.8.119',
		mtCell: 10,
		mtSample: 5,
		trackMouse: "true",
		exchList: {'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr','n37':'tjnyyrg','p39':'j55p.arg','p40':'c0l.pa','p41':'vcvalbh.pbz','p42':'c0lwferaqre'},
		sp_cdnDomain: 'cdn.adsafeprotected.com',
		sp_cdnScripts: {xsca: "static.adsafeprotected.com/xsca.17.4.85.js", sca: "static.adsafeprotected.com/sca.17.4.114.js", main: "static.adsafeprotected.com/main.19.8.119.js"},
		protocol: 'https',
		jsref: "https:\/\/www.electro-tech-online.com\/threads\/memory-allocation-release-in-o-1.139492\/page-2",
		asid: "83dc011b-ea09-11ea-a048-0a2a04278cde",
		allowViewability: "true",
		jsFeatures: "viewabilityready,consecutive,cachebust:0,forcecocoa:0,rattie,exch,recordalternate:0,usedtdomain,nextcocoa:100,bapiDiag,cookie,postDts:0,videotwoseconds,getPl,decodePl,resolution,usetpl,tpiLookupURL,hundredpct,jloadDiag:0,blur:0,sendclogs,zeroPing,idMap,offscreen,everySecond:1,sdkdetection,moreAdTalkCalls,slid,fm2:1,largeAd,nextcocoaie:100,usevh,fxdet:0,mmsb:0,bigmon:0,chromeNativeIO:100,oddet:0,ios:100,ancestor:100,avmm:100,avgrn:100,useScreenLocationInfoAdaptor:100,swapids:100,pIntervals:10,firewall_cdn_domain,usesca:100,usexsca:1,bustediframe:100,impFailSafe:100,yieldmo:100,displayCustomView:0,sfdetect,pmdetect:100,novidnodeerr:5,diagnosticCM:0,viewabilityOptimization:100,usehaps:100,customMetric:100,sizmek,celtra,groupmCM,avidPropertiesInImpression,abcAudit,useMraidGeometricMeasurement,mrcAudit:1,bbs,bas,spg:100",
		adsafeDomain: "adsafeprotected.com:80",
		minimizeCalls: "false",
		adWidth: "300",
		adHeight: "600",
		forceAppend: "false",
		sp_imp_maxLength: 8000,
		sp_imp_jsInfo_minLength: 200,
		_onInViewMRC15: __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onInViewMRC: __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onMeasurable: __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onAPIResult: __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewFull: __IntegralASConfig && __IntegralASConfig.onInViewFull,
		_onSuspicious: __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC5: __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		reqquery: "",
		mode: "rjss",
		requrl: "",
		dtBaseURL: "https:\/\/dt.adsafeprotected.com\/dt?advEntityId=455334",
		adsafeSrc: "https:\/\/fw.adsafeprotected.com\/rfw\/www.googletagservices.com\/455334\/46713852\/dcm\/dcmads.js",
		tpiLookupURL: "",
		getTpl: "false",
		use100v: false,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl: "https:\/\/fw.adsafeprotected.com\/rjss\/www.googletagservices.com\/455334\/46713852\/dcm\/dcmads.js",
		accountForSadImps: '',
		sendCookie: 'true',
		cookieBaseURL: 'sc.iasds01.com\/dtc?advEntityId=455334&pubEnt=46713852',
		fwMonitoring: 'false',
		doNothing: false,
		mn: "app01jp",
		mobOrTab: false,
		app: false,
		mobAppWebview: false,
		mobFwUrl: "https:\/\/mobile.adsafeprotected.com\/internal\/blocking\/app\/initial\/455334\/46713852?redirectUrl=https%3A%2F%2Fwww.googletagservices.com%2Fdcm%2Fdcmads.js",
		anId: '',
		advEntityId: '455334',
		pubEntityId: '46713852',
		videoId: '',
		videoChannel: '',
		rts: {},
		customViewability: [],
		serverSideAppDetection: [],
		groupm_native_publisher: false,
		integration: null,
		staticServer: '\/\/static.adsafeprotected.com\/',
		passback: ''
	};


var __IASScope = __IASScope || (typeof window !== 'undefined' ? window : this);
__IASScope.__IntegralASConfig = __IntegralASConfig;
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r="undefined"!=typeof window?window.__IASScope||window:__IASScope;t.a=r},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return OmidClientExports}));var _main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),OmidClientExports=OmidClientExports||{};!function(e,t,n){if("object"==typeof n&&"string"!=typeof n.nodeName)t(e,n);else{var r=["1.3.6-iab2177"];0,t(e,n={});var i=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=i(e[t]));return Object.freeze(e)};for(var o in n)n.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(e,o)&&Object.defineProperty(e,o,{value:{}}),r.forEach((function(t){if(null==Object.getOwnPropertyDescriptor(e[o],t)){var r=i(n[o]);Object.defineProperty(e[o],t,{get:function(){return r},enumerable:!0})}})))}}(void 0===_main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__.a?void 0:_main_javascript_framework_base_IASScope__WEBPACK_IMPORTED_MODULE_0__.a,(function(omidGlobal,omidExports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(e,t)}else for(n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.superClass_=t.prototype};var module$exports$omid$common$argsChecker={assertTruthyString:function(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")},assertNotNullObject:function(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")},assertNumber:function(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")},assertNumberBetween:function(e,t,n,r){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,t),t<n||t>r)throw Error("Value for "+e+" is outside the range ["+n+","+r+"]")},assertFunction:function(e,t){if(!t)throw Error(e+" must not be truthy.")},assertPositiveNumber:function(e,t){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,t),0>t)throw Error(e+" must be a positive number.")}},module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;module$exports$omid$common$VersionUtils.isValidVersion=function(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)},module$exports$omid$common$VersionUtils.versionGreaterOrEqual=function(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var n=0;n<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)break;if(r<i)return!1}return!0};var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";module$exports$omid$common$ArgsSerDe.serializeMessageArgs=function(e,t){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t:JSON.stringify(t)},module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=function(e,t){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]};var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},AccessMode:{FULL:"full",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},Environment:{APP:"app",WEB:"web"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"}},module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(e,t,n,r){this.guid=e,this.method=t,this.version=n,this.args=r};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(e){return!!e&&void 0!==e[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===e[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.deserialize=function(e){return new module$exports$omid$common$InternalMessage(e[module$contents$omid$common$InternalMessage_GUID_KEY],e[module$contents$omid$common$InternalMessage_METHOD_KEY],e[module$contents$omid$common$InternalMessage_VERSION_KEY],e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.prototype.serialize=function(){var e={};return e[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,e[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,e[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,e=e,void 0!==this.args&&(e[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args),e};var module$exports$omid$common$Communication=function(e){this.to=e,this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(e,t){},module$exports$omid$common$Communication.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},module$exports$omid$common$Communication.prototype.serialize=function(e){return JSON.stringify(e)},module$exports$omid$common$Communication.prototype.deserialize=function(e){return JSON.parse(e)},module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT},module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(e){try{return!!e.frames&&!!e.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME]}catch(e){return!1}},declareOmidPresence:function(e){e.frames&&e.document&&(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in e.frames||(null==e.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(e)?module$exports$omid$common$DetectOmid.registerMutationObserver_(e):e.document.body?module$exports$omid$common$DetectOmid.appendPresenceIframe_(e):e.document.write('<iframe style="display:none" id="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'" name="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(e){var t=e.document.createElement("iframe");t.id=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,t.name=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,t.style.display="none",e.document.body.appendChild(t)},isMutationObserverAvailable_:function(e){return"MutationObserver"in e},registerMutationObserver_:function(e){var t=new MutationObserver((function(n){n.forEach((function(n){"BODY"===n.addedNodes[0].nodeName&&(module$exports$omid$common$DetectOmid.appendPresenceIframe_(e),t.disconnect())}))}));t.observe(e.document.documentElement,{childList:!0})}},module$exports$omid$common$DirectCommunication=function(e){module$exports$omid$common$Communication.call(this,e),this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT,this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication),module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(e,t){module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(e),t)},module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$eventTypedefs={},module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return void 0===omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(e,t){return e&&(e[t]||(e[t]={}))}module$exports$omid$common$exporter.packageExport=function(e,t,n){(n=void 0===n?module$contents$omid$common$exporter_getOmidExports():n)&&((e=e.split(".")).slice(0,e.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,n)[e[e.length-1]]=t)};var module$exports$omid$common$guid={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return e="y"===e?(3&t|8).toString(16):t.toString(16)}))}},module$exports$omid$common$logger={error:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];module$contents$omid$common$logger_executeLog((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(t))))}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(t))}))},debug:function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];module$contents$omid$common$logger_executeLog((function(){}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(t))}))}};function module$contents$omid$common$logger_executeLog(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}var module$exports$omid$common$OmidGlobalProvider={},module$contents$omid$common$OmidGlobalProvider_globalThis=eval("this");function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if(void 0!==omidGlobal&&omidGlobal)return omidGlobal;if(void 0!==global&&global)return global;if("undefined"!=typeof window&&window)return window;if(void 0!==module$contents$omid$common$OmidGlobalProvider_globalThis&&module$contents$omid$common$OmidGlobalProvider_globalThis)return module$contents$omid$common$OmidGlobalProvider_globalThis;throw Error("Could not determine global object context.")}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(e){return null!=e&&void 0!==e.top&&null!=e.top}function module$contents$omid$common$windowUtils_isSameOriginForIE(e){return""===e.x||""!==e.x}module$exports$omid$common$windowUtils.isCrossOrigin=function(e){if(e===module$exports$omid$common$OmidGlobalProvider.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;module$contents$omid$common$windowUtils_isSameOriginForIE(e)}catch(e){return!0}return!1},module$exports$omid$common$windowUtils.resolveGlobalContext=function(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),module$contents$omid$common$windowUtils_isValidWindow(e)?e:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.resolveTopWindowContext=function(e){return module$contents$omid$common$windowUtils_isValidWindow(e)?e.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.evaluatePageUrl=function(e){if(!module$contents$omid$common$windowUtils_isValidWindow(e))return null;try{var t=e.top;return(0,module$exports$omid$common$windowUtils.isCrossOrigin)(t)?null:t.location.href}catch(e){return null}};var module$exports$omid$common$PostMessageCommunication=function(e,t){t=void 0===t?module$exports$omid$common$OmidGlobalProvider.omidGlobal:t,module$exports$omid$common$Communication.call(this,t);var n=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(t)&&(t=module$exports$omid$common$InternalMessage.deserialize(t),e.source&&n.handleMessage(t,e.source))}}))};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication),module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return!this.to||(0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to)};var module$exports$omid$common$Rectangle=function(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r},module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(e,t,n,r){if(!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(t))try{var i=module$contents$omid$common$serviceCommunication_getValueForKeypath(t,n);if(i)return new module$exports$omid$common$DirectCommunication(i)}catch(e){}return r(t)?new module$exports$omid$common$PostMessageCommunication(e,t):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,t,n,r){for(var i=(t=$jscomp.makeIterator(t)).next();!i.done;i=t.next())if(i=module$contents$omid$common$serviceCommunication_startServiceCommunication(e,i.value,n,r))return i;return null}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=function(e,t,n){n=void 0===n?module$exports$omid$common$DetectOmid.isOmidPresent:n;var r=[e,(0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)];return t&&r.unshift(t),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,r,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,n)},module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=function(e,t){t=void 0===t?module$exports$omid$common$DetectOmid.isOmidPresent:t;var n=[],r=module$contents$omid$common$serviceCommunication_getValueForKeypath(e,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);return r&&n.push(r),n.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,n,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,t)};var module$exports$omid$common$VastProperties=function(e,t,n,r){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=r};module$exports$omid$common$VastProperties.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.3.6-iab2177"},module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$contents$omid$verificationClient$VerificationClient_EventCallback;function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid(){var e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;return e&&"function"==typeof e.registerSessionObserver&&"function"==typeof e.addEventListener?e:null}var module$exports$omid$verificationClient$VerificationClient=function(e){(this.communication=e||(0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(e=module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())&&(this.omid3p=e),this.callbackMap_={},this.imgCache_=[],this.injectionId_=(e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties)?e.injectionId:void 0};module$exports$omid$verificationClient$VerificationClient.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver=function(e,t){(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.registerSessionObserver(e,t,this.injectionId_):this.sendMessage_("addSessionListener",e,t,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener=function(e,t){(0,module$exports$omid$common$argsChecker.assertTruthyString)("eventType",e),(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",t),this.omid3p?this.omid3p.addEventListener(e,t):this.sendMessage_("addEventListener",t,e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl=function(e,t,n){(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document&&module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement?this.sendUrlWithImg_(e,t,n):this.sendMessage_("sendUrl",(function(e){e&&t?t():!e&&n&&n()}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_=function(e,t,n){var r=this,i=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");this.imgCache_.push(i);var o=function(e){var t=r.imgCache_.indexOf(i);0<=t&&r.imgCache_.splice(t,1),e&&e()};i.addEventListener("load",o.bind(this,t)),i.addEventListener("error",o.bind(this,n)),i.src=e},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource=function(e,t,n){var r=this;(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(e,t,n):this.sendMessage_("injectJavaScriptResource",(function(i,o){i?(r.evaluateJavaScript_(o,e),t()):(module$exports$omid$common$logger.error("Service failed to load JavaScript resource."),n())}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_=function(e,t,n){var r=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,i=r.body;(r=r.createElement("script")).onload=t,r.onerror=n,r.src=e,r.type="application/javascript",i.appendChild(r)},module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(e){module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "'+b+'".')}},module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout=function(e,t){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",t),this.hasTimeoutMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setTimeout",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeoutId",e),this.hasTimeoutMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e)},module$exports$omid$verificationClient$VerificationClient.prototype.setInterval=function(e,t){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",t),this.hasIntervalMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setInterval",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("intervalId",e),this.hasIntervalMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(e):this.sendOneWayMessage_("clearInterval",e)},module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout},module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval},module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_=function(e,t){t=e.method;var n=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[n]){var r=(0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,e);this.callbackMap_[n].apply(this,r)}"error"===t&&window.console&&module$exports$omid$common$logger.error(e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_=function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];this.sendMessage_.apply(this,[e,null].concat($jscomp.arrayFromIterable(n)))},module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];this.communication&&(i=(0,module$exports$omid$common$guid.generateGuid)(),t&&(this.callbackMap_[i]=t),r=new module$exports$omid$common$InternalMessage(i,"VerificationService."+e,module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,(0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,r)),this.communication.sendMessage(r))},(0,module$exports$omid$common$exporter.packageExport)("OmidVerificationClient",module$exports$omid$verificationClient$VerificationClient)}),void 0===OmidClientExports?void 0:OmidClientExports)}).call(this,__webpack_require__(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r,i,o,a,s,u,d,c,g,m,l,f,p,v,E,h,I,A,S,D=n(0),T=D.a.__IASOmidVerificationClient||{},O=function(){try{var e={};return function(t,n,r){try{!e[t]&&Math.random()<.01&&(e[t]=!0,function(e){D.a.isDomless&&T&&T.sendUrl?T.sendUrl(e):(new Image).src=e}(function(e,t,n){var r,i,o="//pixel.adsafeprotected.com/mon?anid=925116&advId=fwjs-diag&campId=";try{o+=e+"&adsafe_jsinfo=",t&&t.message&&(o+="derr:"+encodeURIComponent(t.message.toString().replace(/ /g,"-")).substring(0,200)),n&&(i=n.anId?n.anId:n.advEntityId?n.advEntityId+"/"+n.pubEntityId:"",r=n.version+","+n.mode+","+i,o+=",dconfig:"+encodeURIComponent(r))}catch(e){o+=",dcatch:1"}return o}(t,n,r)))}catch(e){}}}catch(e){return function(){}}}(),_=function(e){e.isResolved=!!e.jsFeatures,e.birthdate=(new Date).getTime(),e.perfBirth=void 0!==D.a.performance&&"function"==typeof D.a.performance.now?D.a.performance.now():null},y=n(1),w=function(e,t){if(t.isDomless="undefined"==typeof window,T={isSupported:function(){return!1}},void 0!==y.a.OmidVerificationClient)try{T=new y.a.OmidVerificationClient,t.__IASOmidVerificationClient=T}catch(e){}e.useFIF=t&&!!t.__IntegralASUseFIF&&"jload"===e.mode,e.adRefreshThreshold=t&&t.__IntegralASAdRefreshThreshold},N=function(e,t){return function(n,r){if(!D.a.isDomless){if(e.useFIF)return D.a.frameElement;if(document.currentScript)return document.currentScript;var i,o=n!=r,a=document.getElementsByTagName("script"),s=a[a.length-1],u=a.length,d=-1!=="jss,jsi,jspix".indexOf(e.mode),c=e.scriptUrl;try{for(;--u>=0;)if((i=a[u]).src&&0===i.src.indexOf(c)&&null===i.getAttribute("data-ias-script-tag")){s=i,i.setAttribute("data-ias-script-tag","found");break}0===u&&d&&!o&&(t.write('<span id="s'+e.asid+'"/>'),s=t.getElementById("s"+e.asid).parentNode)}catch(e){}return s}}},R=function(e){var t={};function n(e,n){t[e]=n}function r(e){n(e,Math.round(D.a.performance.now()))}function i(e){r(e+"A")}function o(e){r(e+"Z")}function a(e,t){var r,i;(i=D.a.performance.getEntriesByName(t))&&i.length&&(r=i[i.length-1]).startTime>0&&r.responseEnd>0&&(n(e+"A",Math.round(r.startTime)),n(e+"Z",Math.round(r.responseEnd)))}function s(){}function u(){n=s,r=s,i=s,o=s,a=s}function d(e){return"function"==typeof e}return function(){try{D.a.performance&&d(D.a.performance.getEntriesByName)&&d(D.a.performance.now)&&null!==e.perfBirth?(a(e.jsDoSplit?"bd":"md",e.scriptUrl),n("beA",Math.round(e.perfBirth)),o("be")):u()}catch(t){u(),d(O)&&O("perf",t,e)}}(),{mark:r,markStart:i,markEnd:o,markResource:a,getData:function(){return t}}},C=D.a.__IntegralASConfig||{},b={hashCode:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){var t,n,r=D.a,i=e.split(".");for(t=0;t<i.length;t++)if(n=r,r=r[i[t]],se.isUndef(r)||t===i.length-1&&!se.isFunction(r))return!1;return function(){r.apply(n,arguments)}},stringToProp:function(e){var t,n=ee.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!se.isUndef(n));t++);return n},contains:function(e,t){return!!se.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){return se.isFunction(e.trim)?e.trim():e.replace(" ","")}},M={MRC_LARGE_AD_SIZE:242500,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",AVID:"av",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v"},VIDEO_CHANNELS:{VANS:{AS3_ADAPTOR:"av3",JS_ADAPTOR:"jv3"},WRAPPERS:{JS:"jvw"}},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",IE:"i",MSEDGE:"e"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",AVID:{AD_SESSION_TYPE:{DISPLAY:"display",VIDEO:"video",MANAGED_DISPLAY:"managedDisplay",MANAGED_VIDEO:"managedVideo"}},CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED:"mobileAppGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"},$={addEvent:function(e,t,n,r){se.isDef(e.addEventListener)?"mouseenter"===t?e.addEventListener("mouseover",$.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",$.mouseEnter(n),r):e.addEventListener(t,n,r):se.isDef(e.attachEvent)&&("DOMContentLoaded"===t&&(t="load"),e.attachEvent("on"+t,n))},removeEvent:function(e,t,n){se.isDef(e.removeEventListener)?("mouseenter"===t?(t="mouseover",n=$.mouseEnter):"mouseleave"===t&&(t="mouseout",n=$.mouseEnter),e.removeEventListener(t,n)):se.isDef(e.detachEvent)&&e.detachEvent("on"+t,n)},mouseEnter:function(e){var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,n){var r,i="";return n=n||"",document.defaultView&&document.defaultView.getComputedStyle?i=(r=document.defaultView.getComputedStyle(e,n))?r.getPropertyValue(t):i:e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),i=e.currentStyle[t]),i},getXHR2:function(e,t){var n,r;return se.isDef(D.a.XMLHttpRequest)?"withCredentials"in(r=new XMLHttpRequest)&&(n=r):se.isDef(XDomainRequest)&&(n=new XDomainRequest),n},whenReady:function(e,t){if(Q.isDomless())ee.setTimeout((function(){e()}),50);else{var n,r,i=t||(Q.xDomainIframe?document:ee.getTop().document),o=this;n=e,r=function(){n(!0)},se.isFunction(document.addEventListener)?"complete"==i.readyState||"loaded"==i.readyState||"interactive"==i.readyState?ee.execAtEndOfThread(r):o.addEvent(i,"DOMContentLoaded",r,!1):function(e){var t=ee.setInterval((function(){i.body&&(ee.clearInterval(t),e())}),50)}(n)}},isSandboxed:function(e){var t,n=ee.getWindow(),r=!1;if("sandbox"in ee.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=ee.getDoc();if(e.browserIs(M.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){if(e&&se(e.style).isObj()&&se(t).isObj()){var n="";se(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){return"absolute"===$.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},V=$,P=function(){var e=[];return{push:function(t,n){var r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){var t=arguments;se(e).each((function(e,n){n.apply({},t)}))}}},x=function(){var e={},t=function(t,n){e[t]=n};return{request:function(t){var n,r=e[t],i=se(arguments).toArray();return i.shift(),se.isUndef(r)||(n=se.isFunction(r)?r.apply({},i):r),n},provide:function(e,n){return n?t(e,n):se(e).each(t),n}}},F=function(){var e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){var r;(r=e[t])&&r.run.apply({},n)},i=function(e,n,r){var i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),se(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new P,e[t].push(n,r)};return{on:function(e,t){var n={};t?n[e]=t:n=e,se(n).each(o),se(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){var t=se(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){var t=se(arguments).toArray();t.shift(),n(e,t),r(e,t)}}},L=function(){var e=new x,t=new F;return se(e).mixin(t)},U=(i={},o=[],a=[],u=function(e,t,n,a,s){var u,d,c,g=function(){if(!u){var t=[];u=!0,i=["features","browser","context"],0===o.length&&(o=se(i).map((function(e,t){return r.request(t)}))),s.emits&&(e.events=new F),s.applies&&!s.applies.apply(s,o)||(d=!0,(t=se(n).map((function(e,t){return r.request(t)}),!0)).push(e),se(e).mixin(a.apply({},t)))}var i};return c=(s=s||{}).tier,se.isDef(c)&&(i[c]=i[c]||new P,i[c].push(g)),r.provide(t,(function(){var t;return g(),d&&(t=e),t})),e},(s=function(){var e={},t=se(arguments).toArray();return t.unshift(e),a.push(t),e}).runAll=function(){var e=se(i).keys().sort((function(e,t){return e-t}));se(e).each((function(e,t){s.runTier(t)}))},s.runTier=function(e){i[e].run(),delete i[e]},s.startSystem=function(){r=r||new L,se(a).each((function(e,t){u.apply({},t)}))},s.getAggregator=function(){return r},s),G={findElementsWithSize:function(e){var t=[],n=function(e){G.getNodeArea(e)<1?se(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){var t=this.getRect(e),n=0!==parseInt(V.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===V.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){var e,t,n;try{t=G.browserWindowPosition(),n=G.windowSize(),e={scrX:ee.round(t.scrX),scrY:ee.round(t.scrY),width:ee.round(n.width),height:ee.round(n.height)}}catch(t){U.getAggregator().trigger("error",M.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){var e,t,n,r={};if(Q.isDomless())return{width:0,height:0};if(Q.friendly)if(t=(e=top.document).documentElement,n=e.body,se.isDef(top.innerWidth))r.width=top.innerWidth,r.height=top.innerHeight;else if(se.isDef(t.clientWidth))r.width=t.clientWidth,r.height=t.clientHeight;else{if(!se.isDef(n.clientWidth))throw r.width=r.height=0,"";r.width=n.clientWidth,r.height=n.clientHeight}else se.isDef(D.a.outerWidth)&&(r.width=D.a.outerWidth,r.height=D.a.outerHeight);return r},browserWindowPosition:function(){var e=0,t=0;return se.isDef(D.a.screenX)?(e=D.a.screenX,t=D.a.screenY):se.isDef(D.a.screenLeft)&&(e=D.a.screenLeft,t=D.a.screenTop),{scrX:e,scrY:t}},getNodeArea:function(e){var t=-1;if(e){var n=G.getRect(e);t=n.width*n.height}return t},getRect:function(e){var t={},n=G.browserWindowPosition(),r=e.getBoundingClientRect();return se.isUndef(r.x)&&(t.x=r.left,t.y=r.top),se.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),se(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getIeDimObj:function(e){var t=e.document;return t.documentElement&&se.isDef(t.documentElement.clientWidth)&&t.documentElement||t.body},getPlaceholderSpan:function(){var e=document.createElement("span");return se(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){var e=Q.friendly&&ee.getTop().Image;return se.isFunction(e)?new e:new Image},createHiddenIframe:function(e){var t=ee.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return V.styleElement(t,n),t},tagNameIs:function(e,t){return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){var n,r,i,o,a,s=1e4,u=1e4,d=V.nodeIsAbsolutelyPositioned(e);if(a=!G.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!d&&a&&!G.tagNameIs(t,"BODY")){o=e;do{o=o.parentNode,r=!G.tagNameIs(o,"OBJECT"),i="inline"!==V.getStyle(o,"display"),r&&i&&(s=(n=G.getRect(o)).width<s?n.width:s,u=n.height<u?n.height:u)}while(o.parentNode!==document&&o!==t)}return{width:ee.round(s),height:ee.round(u)}},hasBackgroundImage:function(e){var t=V.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyTeadsFrame:function(e){try{var t,n=!1,r=e&&"IFRAME"===e.nodeName&&e.contentDocument;return e&&e.parentElement&&"teads-player"===e.parentElement.classList.item(0)&&r&&((t=r.body)&&t.childElementCount<1)&&(n=!0),n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=U.getAggregator().request("mobileApp").isMobileAppEnvironment(),r=U.getAggregator().request("omidAdSessionContext"),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,a=null,s=function(t){var n,r,a,s=null,u=-1;if(t.length)for(n=0,r=t.length;n<r;n++){var d=t[n],c=G.getNodeArea(d),g=!((a=d).parentNode===e&&"DIV"===a.nodeName&&!o(a)&&("0"===V.getStyle(a,"opacity")||"hidden"===V.getStyle(a,"visibility")||function(){var e,t,n=a.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));g&&i&&"DIV"===d.nodeName&&(g=!1);var m=G.isEmptyTeadsFrame(d);c>u&&g&&!m&&(s=d,u=c)}return s&&(s.hasValidSizeForMobileApp=u>1),s}(function(e){var n,r,i,o,a=[],s=t||"iframe,img,a,object,embed,div".split(",");for(n=0,r=s.length;n<r;n++){var u=s[n].toLowerCase(),d=e.getElementsByTagName&&e.getElementsByTagName(u);if(d&&d.length)for(i=0,o=d.length;i<o;i++)a.push(d[i])}return a}(e));return s&&((a=function(t){for(var r,o,a=t;t.parentNode!==e&&"inline"!==V.getStyle(t.parentNode,"display");)n&&(r=t.parentNode,o=void 0,o=!0,("visible"===V.getStyle(r,"overflow")||"visible"===V.getStyle(r,"overflowX")&&"visible"===V.getStyle(r,"overflowY"))&&(o=!1),!o)||n&&i&&"DIV"===t.parentNode.nodeName||(a=t.parentNode),t=t.parentNode;return a}(s)).hasValidSizeForMobileApp=s.hasValidSizeForMobileApp),a},screenSize:function(){if(Q.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{se.isDef(D.a.screen)&&(e={width:D.a.screen.width,height:D.a.screen.height})}catch(e){}return e},calcMonDims:function(){var e=se(G.screenSize()).mixin({scrX:0,scrY:0});return se.isDef(screen.availLeft)&&(e={scrX:D.a.screen.availLeft,scrY:D.a.screen.availTop,width:D.a.screen.availWidth,height:D.a.screen.availHeight}),e},getOurIFrameInTop:function(){for(var e,t=ee.getTop(),n=ee.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){var e,t;return Q.friendly&&(e=Q.embedded?(t=G.getOurIFrameInTop())&&t.frameElement:C.contextNode),e},getAncestorNodes:function(e){var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;r.parentNode!==n;)t.push(r),r=r.parentNode;return t},getTagsNamed:function(e,t){var n,r=t||ee.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){return!!se(G.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return se.isFunction(e)?e(r):r===e}))},contains:function(e,t){var n=!1;try{n=se.isDef(e)&&se.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){e&&se.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){e&&se.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(e,t){var n,r,i=[C.contextNode.parentNode,ee.getDoc()];if(Q.friendly&&i.push(ee.getTop().document),t&&Q.embedded)try{i.push(ee.getWindow().frameElement.ownerDocument)}catch(e){}return se(i).each((function(t,i){try{r=G.querySelector(i,e)}catch(e){}!n&&r&&(n=r)})),n},getNodeName:function(e){return e&&e.nodeName},isWindow:function(e){var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){var t=[],n=G.getTagsNamed("iframe",e);return n&&(t=se(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){var e=ee.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){return e.tagName.toLowerCase()},getAttribute:function(e,t){return e.getAttribute(t)},attributeMatches:function(e,t,n){var r=e&&G.getAttribute(e,t);return n.test(r)},isImageTag:function(e){return e&&e.src&&G.tagNameIs(e,"img")},getDimensionFromStyle:function(e){var t,n=V.getStyle(e,"width"),r=V.getStyle(e,"height");return n&&r&&(t={width:se.getNum(n),height:se.getNum(r)}),t},getDimensionFromAttributes:function(e){var t,n=G.getAttribute(e,"width"),r=G.getAttribute(e,"height");return n&&r&&(t={width:se.getNum(n),height:se.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){return e&&e.children&&e.children[0]},isClippable:function(e,t){var n=!0,r="fixed"===V.getStyle(e,"position"),i=!("hidden"===V.getStyle(t,"overflow"))&&!r;return Q.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){var t=G.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==M.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||G.hasBackgroundImage(e)||i)},getElementsDocument:function(e){return e.ownerDocument||e},getElementsWindow:function(e){var t=G.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){return G.getElementsWindow(e)!==ee.getTop()},getParent:function(e){return e.parentNode||e.parent},isNodeXDomainIframe:function(e){var t=!1;if(e&&"IFRAME"===G.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){return 1===e.nodeType}},W=G,j=function(){var e,t=function(){var t,n=C.contextNode.parentNode;return n&&b.contains(n.className,"celtra-ad-v3")?e=n:(t=n&&W.querySelector(n,".celtra-ad-v3"))&&(e=t),e};return{find:t,isApplicable:function(){return void 0!==t()}}},B=function(){var e,t=ee.getDoc().scripts,n=function(){return e||(e=se(t).findFirst((function(e,t){return b.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:M.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=se([i,o]).findFirst((function(e,t){return W.crossQuerySelector(t,!0)}))}catch(e){}return t}}},k=function(e){var t,n={},r=!1,i=function(e){return 1===e.nodeType},o=function(){var t=i(e)?W.nodeIsHidden(e):0===e.width||0===e.height;return!r&&t},a=function(){var e={};return se(n).each((function(t,n){e[t]=ee.round(n)})),e},s=function(e){return se.isNumeric(e)||se.isUndef(e)},u=function(){return ee.round(n.width)*ee.round(n.height)};return e!==D.a.parent&&(i(e)?se.isDef(e.getBoundingClientRect)&&(t=W.getRect(e),se(n).mixin({x:se.useIfDef(t.x)||t.scrX,y:se.useIfDef(t.y)||t.scrY,scrX:t.scrX,scrY:t.scrY,width:t.width,height:t.height})):n=e),{hasValidDims:function(){return s(n.scrX)&&s(n.scrY)&&se.isNumeric(n.width)&&se.isNumeric(n.height)},toString:function(){var e=a();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:a,getRoundedGeometry:function(){var e={};return se(n).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?ee.round(n):n})),e},set:function(e,t){n[e]=t},isHidden:o,treatAsPlaceholder:function(){r=!0},area:u,isMrcLarge:function(){return u()>=M.MRC_LARGE_AD_SIZE},isOneByOne:function(){return o()&&u()<=1}}},H=function(){var e,t,n=ee.getDoc(),r=function(){var t,r;return e||(r=(t=W.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split("ebDiv")[1]),e},i=function(){var e,n;return t||(n=(e=W.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&e.id,t=n&&"#"+n),t};return{detectionMethod:M.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,o=ee.getWindow(),a=e.friendlyIframe&&ee.getWindow().frameElement,s=a&&k(a).isOneByOne(),u=(n=ee.getDoc().scripts,se(n).findFirst((function(e,t){return b.contains(t.src,"bs.serving-sys.com/BurstingPipe/adServer")}))),d=o.EBG&&o.EBG.ads&&!se(o.EBG.ads).isEmpty();return t.on("sizmek")&&u&&d&&s&&r()&&i()},getCssSelector:i}},Y=function(){return{isApplicable:function(e,t){var n;try{n=W.getFrameId()}catch(e){}return t.on("yieldmo")&&n&&b.contains(n,"_tpi")&&W.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+W.getFrameId().replace("_tpi","")+"']"},detectionMethod:M.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},q=function(){var e,t=U.getAggregator().request("features");return e||(e=[H(),Y(),B()]),se(e).findFirst((function(e,n){return n.isApplicable(Q,t)}))},K=function(e,t){var n=e||C.adsafeSrc||C.requrl;n&&0===n.indexOf("http")||(n=0===n.indexOf("//")?C.protocol+":"+n:C.protocol+"://"+n);var r=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(n),i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],d=e?r[6]:"",c=t?r[7]:"",g={},m=function(e){return se.isDef(e)&&(s=e),s},l=function(e){return se.isDef(e)&&(u=e),u},f=function(e,t){return e+"="+se(t).toION()},p=function(){var e;return e=se(g).isEmpty()?"":se(g).stringify(f,"&"),"?"+c+(c&&e?"&"+e:e)};return c=c?c.replace(/&$/,""):"",{appendToParamValue:function(e,n){var r,i,o,a=g[e];a?g[e]=a+n:t&&c.length&&(r=c.split(e)).length>1&&(i=r[1].split("&")[0],o=[r[0],i].join(e),c=c.replace(o,o+n))},fullDom:i,hostname:a,sub:m,master:l,setParam:function(e,t){g[e]=g[e]||{},se(t).isObj()?se(g[e]).mixin(t):g[e]=t},path:function(e){d=e},toString:function(){var e=m()?m()+".":"",t=d?"/"+d:"",n=c||!se(g).isEmpty()?p():"";return o+"://"+e+l()+t+n}}},X=function(){var e=U.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},J=function(e){var t=ee.getWindow(),n=t&&t.omid3p,r=U.getAggregator().request("omidAdSessionContext"),i=!!(e&&e.isSupported&&e.isSupported()),o=!!(n&&se.isFunction(n.registerSessionObserver)&&se.isFunction(n.addEventListener));return{accepts:function(){return i||o},isMediaType:function(e){return e===r.mediaType},supportsAdContainerGeometry:function(){return!0}}},z=function(){var e=U.getAggregator().request("omidAdSessionContext"),t=U.getAggregator().request("omidVerificationClient"),n=new J(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},Q=(d=D.a,c="undefined"==typeof window,g=function(){return c},m=void 0!==d&&"undefined"!=typeof top&&d!==top,l=function(){var e=!1;if(g())e=!0;else try{e=!!top.document}catch(e){}return e}(),p=function(){return!g()&&se.isDef(ee.getWindow().mraid)},v=function(){var e=!1;if(!g()){var t=ee.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,r=t&&n&&se.isFunction(n.addVideoEventListener);e=p()&&!!r}return e},I=function(e){return!1!==se(C.customViewability).isArray()&&se(C.customViewability).filter((function(t,n){return b.contains(n.id,e)})).length>0},A=function(){return C.use100v},{embedded:m,friendly:l,isFriendlyToParent:function(e){var t,n;if(g())t=!0;else{try{n=K(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:m&&l,xDomainIframe:m&&!l,getTagTime:function(){return ee.now()-C.birthdate},getPageTime:function(){var e=M.NA;return!g()&&se.isDef(d.chrome)&&se.isDef(d.chrome.csi)&&se.isFunction(d.chrome.csi)&&(e=ee.round(d.chrome.csi().pageT)),e},isVideo:E=function(){return-1!==C.mode.indexOf("jsvid")||function(){var e=!1,t=U.getAggregator();if(!g()){var n=t.request("avidJsClient");if(n.isAvidAvailable())try{e=n.getAvidAdSessionContext().mediaType===M.MEDIA_TYPE.VIDEO}catch(e){}}return e}()||(e=U.getAggregator(),t=e.request("omidVerificationClient"),n=!1,r=e.request("omidAdSessionContext"),t&&r&&(n=r.mediaType===M.MEDIA_TYPE.VIDEO),n)||v();var e,t,n,r},isMobileApp:f=function(){return g()||se.isDef(ee.getWindow().mraid)},isSpecifiedAd:function(){var e=!1;if(!g()){var t=C._cl_adpath;e=t&&se.isStr(t)}return e},isCompoundAd:function(){var e=!1;if(!g()){var t=C._cl_adpath,n=/\[(.*)\]/.exec(t);e=null!==n&&0!==n[1].length&&n[1].split(",").length>1}return e},isAvid:function(){return!g()&&se.isDef(ee.getWindow().avid)},isOmid:function(){var e=U.getAggregator().request("omidVerificationClient");return e&&e.isSupported()},isOmidNative:function(){return(new X).accepts()},isOmidForWeb:function(){return(new z).accepts()},isDomless:g,isAvidNative:function(){var e=!1,t=U.getAggregator();if(!g()){var n,r=t.request("avidJsClient");r.isAvidAvailable()&&(e=(n=r.getAvidAdSessionContext().avidAdSessionType)===M.AVID.AD_SESSION_TYPE.MANAGED_DISPLAY||n===M.AVID.AD_SESSION_TYPE.MANAGED_VIDEO)}return e},isBustedIframe:function(){var e=!1;return g()||(e=void 0!==q()),e},isMraid:p,isSafeFrame:function(){var e=!1;return g()||(e=se(ee.getWindow().$sf).isObj(!1)&&se(ee.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:v,isDeviceTypeGroupMobile:h=function(){return C.mobOrTab},usesIASFullyInViewCustomMetric:function(){return I("fiv")||A()||!S()},usesGroupMCustomMetric:S=function(){return I("grpm")||A()},isCeltra:function(){var e=!1;return g()||(e=j().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return S()&&h()},usesZeroPivCustomMetric:function(){return!1!==se(C.customViewability).isArray()&&se(C.customViewability).filter((function(e,t){return se(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=ee.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!g()&&!f()&&!E()&&m&&"jload"===C.mode},integratedBlockingApplies:function(e){var t,n,r,i,o=!1;C.contextNode&&se.isFunction(C.contextNode.getAttribute)&&(t=C.contextNode.getAttribute("data-ias-check-tag"),n=C.contextNode.getAttribute("data-ias-check-done"),i=(r=C.contextNode.getAttribute("data-ias-callback"))&&se.isFunction(ee.getWindow()[r]));var a=se.isDef(JSON)&&se.isFunction(JSON.parse),s=C.integration&&(e.indexOf("skeleton.js")>0||e.indexOf("/internal/")>0),u=!0===C.fwMonitoring||"true"===C.fwMonitoring;return a&&s&&("true"===t&&"true"!==n&&i?(o=!0,u&&U.getAggregator().trigger("addOutputItem",{output:"imgb"},"smm",{type:"impression"})):(o=!1,u||U.getAggregator().trigger("addOutputItem",{output:"ibgm"},"smm",{type:"impression"}))),o}}),Z={execAtEndOfThread:function(e){Z.setTimeout(e,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(e){return Math.round(e)},ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},min:function(){return Math.min.apply(null,arguments)},max:function(){return Math.max.apply(null,arguments)},getWindow:function(){return D.a},getTimeoutScope:function(){return Q.isDomless()&&Q.isOmid()?U.getAggregator().request("omidVerificationClient"):D.a},setInterval:function(e,t){return Z.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){return Z.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){Z.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){Z.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){return Number.MAX_VALUE},getTop:function(){return Q.isDomless(),top},getDoc:function(){return Q.isDomless(),document},getIntersectionObserver:function(e,t){return Q.isDomless(),new IntersectionObserver(e,t)},pow:function(e,t){return Math.pow(e,t)}},ee=Z,te={},ne=C.jsFeatures&&-1!==C.jsFeatures.indexOf("moira"),re="true"===C.debug,ie=re&&!ne;(function(){te={};var e,t,n,r,i=!1,o="pm,pmObject,inDoc,n,logChannel,log,info,warn,dir,exception,trace,group,groupEnd,groupCollapsed,profile,profileEnd,count,clear,time,timeEnd,timeStamp,table,error,memoryProfile,memoryProfileEnd,assert".split(","),a=function(){},s="undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&"undefined"!=typeof HTMLElement,u=function(e){var t,n=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t]instanceof HTMLElement?e[t]="":"object"==typeof e[t]&&n(e[t]));return e};return s&&(t=JSON.stringify(n(e))),t||e},d=function(e){top.postMessage&&top.postMessage(e,"*")};if(ie&&"undefined"!=typeof console)for(t=0,e=o.length;t<e;t++)n=o[t],void 0===te[n]&&(te[n]=(r=console[n])&&r.bind?r.bind(console):a);else for(t=0,e=o.length;t<e;t++)n=o[t],te[n]=a;if(ie){te.inDoc=function(e,t,n){var r=function(e,t){var n=document.createElement(e);return n.textContent=t,n},o=function(){var n,o,a;try{i||((i=document.createElement("ul")).style.position="relative",i.style.top=0,i.style.right=0,i.style.backgroundColor="white",i.style.opacity=.5,document.body.appendChild(i)),n=document.createElement("li"),o=r("label",e+": "),(a=r("span",t)).className="content",n.appendChild(o),n.appendChild(a),i.appendChild(n),n.className=e}catch(e){}};n?ee.setTimeout(o,n):o()};var c={};te.n=function(e,t,n,r){n=n||1,r=r||"pm",c[e]||(c[e]=0),c[e]<n&&(te[r](e+" "+c[e]+": "+t),c[e]++)}}(re||ne)&&(te.pm=D.a.postMessage?d:a,te.pmObject=D.a.postMessage?function(e,t){d(e+": "+u(t))}:a,te.logChannel=function(e,t){s&&te.pm(u({asid:C.asid,channel:e,data:t}))})})();var oe=function(e){return new ae(e)},ae=function(e){this.iterable=e};ae.prototype.isObj=function(e){var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},ae.prototype.isArray=function(){return this.iterable instanceof Array},ae.prototype.isEmpty=function(e){return 0===this.keys(e).length},ae.prototype.each=function(e,t){var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},ae.prototype.map=function(e,t){var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},ae.prototype.stringify=function(e,t){t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);oe.isDef(i)&&n.push(i)})),n.join(t)},ae.prototype.toION=function(e,t){this.iterable;var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return oe(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=oe(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},ae.prototype.compareTo=function(e){var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},ae.prototype.toParams=function(e){return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},ae.prototype._privateMixin=function(e,t,n){var r;for(r in t)oe.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},ae.prototype.mapToObj=function(e){var t={},n=this;return this.each((function(r,i){var o=e(r,i);oe(o).isObj()&&n._privateMixin(t,o)})),t},ae.prototype.invert=function(){return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},ae.prototype.mixin=function(e,t){return this._privateMixin(this.iterable,e,t)},ae.prototype.find=function(e){var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},ae.prototype.findFirst=function(e){var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},ae.prototype.keys=function(e){var t=[];return this.each((function(e){t.push(e)}),e),t},ae.prototype.asStrings=function(){var e={};return this.each((function(t,n){e[t]=""+n})),e},ae.prototype.selectProperties=function(e){var t={},n=this;return oe(e).each((function(e,r){oe.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},ae.prototype.filter=function(e,t){return this.map((function(t,n){var r;return(oe.isUndef(e)||oe.resolve(e,t,n))&&(r=n),r}),t)},ae.prototype.toArray=function(){return this.map((function(e,t){return t}))},ae.prototype.JSONStringify=function(){var e,t,n=!1;return D.a.Prototype&&D.a.Prototype.Version&&-1===D.a.Prototype.Version.indexOf("1.7")&&(n=!0),n&&(t=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),n&&(Array.prototype.toJSON=t),e},ae.prototype.contains=function(e){var t=oe(this.iterable).findFirst((function(t,n){return e===n}));return oe.isDef(t)},oe.toBase=function(e,t){var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},oe.isDef=function(e){return void 0!==e},oe.isUndef=function(e){return!oe.isDef(e)},oe.isBool=function(e){return"boolean"==typeof e},oe.noop=function(){},oe.identity=function(e){return e},oe.isFunction=function(e){return"function"==typeof e},oe.isStr=function(e){return"string"==typeof e},oe.useIfDef=function(e){return!!oe.isDef(e)&&e},oe.stringifyTriState=function(e){return!0===e?1:!1===e?0:"na"},oe.getNum=function(e){var t=parseInt(e);return isFinite(t)||(t=-1),t},oe.resolve=function(e){var t=oe(arguments).toArray();return t.shift(),oe.isFunction(e)?e.apply({},t):e},oe.flatJSONParse=function(e){for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},a=i.exec(e);a;)t=a[1],n=a[3],r=a[2],o[t]=n||+r,a=i.exec(e);return o},oe.debounce=function(e,t,n){var r,i=n||D.a;return function(){var n=this,o=arguments,a=function(){r=null,e.apply(n,o)};i.clearTimeout(r),r=i.setTimeout(a,t)}},oe.last=function(e){return e[e.length-1]},oe.collapseArgsIntoHash=function(e,t){var n={};return t?n[e]=t:n=e,n},oe.fromBoolToNum=function(e){return e?1:0},oe.isNumeric=function(e){return oe.isDef(e)&&null!==e&&!isNaN(e)},oe.fromNodeListToArray=function(e){return Array.prototype.slice.call(e)};var se=oe,ue={isFrameworkAvailable:function(e,t){var n,r,i=ee.getTop(),o=ee.getWindow();try{n=i[e]}catch(e){for(;!r;){try{o.frames[t]&&(r=frame)}catch(e){}if(o===i)break;o=o.parent}}return n||r},getMessageHandler:function(e,t){var n=ue.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),V.removeEvent(ee.getWindow(),"message",r))}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+C.asid},send:function(e,t){U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,e,t)}},de=ue,ce={name:"GDPRConsentDetector",dependencies:[],creator:function(){var e;function t(e){var t=se.isDef(e)&&se.isDef(e.vendorConsents)&&se.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:se.stringifyTriState(e.gdprApplies),cnst:se.stringifyTriState(t),glbl:se.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)};de.send("gcd",se(n).toION())}e=de.isFrameworkAvailable("__cmp","__cmpLocator"),de.send("gca",!!e),e&&function(e){var n,r;se.isFunction(e)?e("getVendorConsents",[278],t):(n={__cmpCall:{command:"getVendorConsents",parameter:[278],callId:de.getCallId()}},r=de.getMessageHandler("__cmpReturn",t),V.addEvent(ee.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},ge={name:"CCPAConsentDetector",dependencies:[],creator:function(){var e;function t(e){e&&de.send("ccd",se(e).toION())}e=de.isFrameworkAvailable("__uspapi","__uspapiLocator"),de.send("cca",!!e),e&&function(e){var n,r;se.isFunction(e)?e("getUSPData",1,t):(n={__uspapiCall:{command:"getUSPData",version:1,callId:de.getCallId()}},r=de.getMessageHandler("__uspapiReturn",t),V.addEvent(ee.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},me={name:"GDPRV2ConsentDetector",dependencies:[],creator:function(){var e;function t(e){var t=se.isDef(e)&&se.isDef(e.vendor)&&se.isDef(e.vendor.consents)&&se.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:se.stringifyTriState(e.gdprApplies),cnst:se.stringifyTriState(t)};de.send("gcd2",se(n).toION())}e=de.isFrameworkAvailable("__tcfapi","__tcfapiLocator"),de.send("gca2",!!e),e&&function(e){var n,r;se.isFunction(e)?e("getTCData",2,t):(n={__tcfapiCall:{command:"getTCData",parameter:[278],callId:de.getCallId(),version:2}},r=de.getMessageHandler("__tcfapiReturn",t),V.addEvent(ee.getWindow(),"message",r),e.postMessage(n,"*"))}(e)},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},le=function(e,t,n,r){var i,o,a=0,s=0,u=e&&e.body,d=!1,c=function(){if((i=Math.round(W.getNodeArea(e.body)))>=r){for(var t,o,u=i+20*i/100,d=e.querySelectorAll("iframe"),c=se.fromNodeListToArray(d);c.length&&(s<u||a<n);)t=c.shift(),(o=Math.round(W.getNodeArea(t)))>=r&&(a++,s+=o);s>=u&&a>=n&&g()}},g=function(){var e={va:i,bia:s,bin:a};U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.FF,t,se(e).toION()),d=!0};u&&(ee.execAtEndOfThread(c),!d&&se.isDef(D.a.MutationObserver)&&(o=new MutationObserver((function(e){d?o.disconnect():ee.execAtEndOfThread((function(){se(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&W.isElement(n)&&W.tagNameIs(n,"IFRAME")&&se.debounce(c,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))},fe={name:"BS_Browser",dependencies:[],creator:function(){var e=ee.getWindow().document,t=e.body?Math.round(W.getNodeArea(e.body)):null;!U.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&le(e,"bs2",10,t)},settings:{tier:M.TIERS.VIEWABILITY,applies:function(e,t,n){var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}},pe={name:"BS_InApp",dependencies:[],creator:function(){var e=ee.getWindow().document;U.getAggregator().request("mobileApp").isMobileAppEnvironment()&&le(e,"bs1",3,100)},settings:{tier:M.TIERS.VIEWABILITY,applies:function(e,t,n){var r=n.isAvid()||n.isOmid()||n.isMraid(),i=!n.isDomless()&&n.friendly&&!n.embedded;return e.on("bas")&&r&&i&&e.bootstrapOn("app")}}},ve=function(e){var t,n,r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){var n=e.innerWidth,o=e.innerHeight,a=!1;r((function(){var r,s,u=(r=e.innerWidth,s=e.innerHeight,r!==n||s!==o);u&&(a=!0),a&&!u&&(t(),i(),a=!1),n=e.innerWidth,o=e.innerHeight}))}}},Ee={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){var n,r=function(){try{r=e.isHidden(),o={},r!==n&&(i=se.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=ee.now(),o.psfr=se.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.HIDDEN2)}var r,i,o};return{start:function(){var t;e.isHidden()&&(r(),(t=e.getWindowWithHiddenViewport())&&ve(t).onResize(r))}}},settings:{emits:!0,applies:function(e,t,n){return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},he=function(){var e,t,n=(e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},{hasValidDimensions:function(n){return t(n)||function(t){var n=W.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t=function(t){var n=W.getDimensionFromAttributes(t);return e(n)}}),r=/GoogleActiveViewClass/,i=/DfaVisibilityIdentifier_/,o=/doubleclick.net\/pcs\/click?/,a=/_blank/,s=function(e){var t=W.tagNameIs(e,"div"),n=W.attributeMatches(e,"class",r),o=W.attributeMatches(e,"id",i);return t&&n&&o};return{getDFPGoogleDiv:function(e){return W.traverseAndFindFirstMatchingNode(e,s)},getClickableImage:function(e){var t,r,i=W.getFirstChildElement(e);return function(e){var t=e&&W.tagNameIs(e,"a"),n=W.attributeMatches(e,"href",o),r=W.attributeMatches(e,"target",a);return t&&n&&r}(i)&&(r=W.getFirstChildElement(i),W.isImageTag(r)&&n.hasValidDimentionAttributes(r)&&(t=r)),t},getNodeMatchingMinimumSize:function(e){return W.traverseAndFindFirstMatchingNode(e,n.hasValidDimensions)}}},Ie=function(){var e=he(),t=function(e,t){t.tag=W.getTagName(e),t.size=W.getDimensionFromAttributes(e)||W.getDimensionFromStyle(e)};return{getDFPValue:function(n){var r=e.getDFPGoogleDiv(n);return r?function(n){var r,i,o={type:0};return n&&(o.type=1,(r=e.getClickableImage(n))?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n))&&(o.type=3,t(i,o))),o}(r):function(n){var r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n)}}},Ae={name:"hA",dependencies:["AS_Finder"],creator:function(e){var t=0,n=function(e,t){U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.FF,e,se(t).toION())},r=function(e){t<2&&n("ha1",e),t++};!function(){var t,i;if(Q.embedded)try{i=C.contextNode.parentNode,t=Ie().getDFPValue(i),n("dfp",function(e){var t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(t)),t.size&&e&&(e.events.on("newState",r),e.start())}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.HIDDEN)}}()},settings:{tier:M.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("usehaps")}}},Se={name:"viewport",dependencies:[],creator:function(){var e={width:4,height:4},t=function(t){return!W.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&Q.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){var e=ee.getWindow();return n(e,ee.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){var e,n=ee.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},De={name:"postMessageDetector",dependencies:[],creator:function(){var e,t=!1,n="pmdetector"+C.asid,r=function(e){(e&&e.data)===n&&(t=!0)};e=ee.getWindow(),V.addEvent(e,"message",r),e.postMessage(n,"*"),ee.execAtEndOfThread((function(){U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.IM,"pom",se.stringifyTriState(t)),V.removeEvent(e,"message",r)}))},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("pmdetect")&&t.hasPostMessage()}}},Te={name:"safeFrameDetector",dependencies:[],creator:function(){U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.IM,"sf",se.stringifyTriState(Q.isSafeFrame()))},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("sfdetect")}}},Oe={name:"AdRefreshDetection",dependencies:[],creator:function(){var e=[15,30,45,60,90],t={start:function(){var e=this,t=C.asid,n=this.getChanId(),r=C&&C.contextNode&&C.contextNode.nextSibling&&C.contextNode.nextSibling.id;t&&n&&(this.recordAdSlotImpression(t,n,r,(function(t,n){t?U.getAggregator().trigger("error",M.ERROR_CODES.AD_REFRESH):e.sendRefreshSession(n)})),e.registerInternalViewabilityListener(n,r))},adRefreshIntervalIsValid:function(t){return-1!==e.indexOf(t)},getChanId:function(){for(var e,t=C.reqquery.split("&"),n=/(\S+)=(\S+)/g,r=0;r<t.length;r+=1){n.lastIndex=0;var i=n.exec(t[r]);i&&3===i.length&&"chanId"===i[1]&&(e=i[2])}return e},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=ee.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=C.adRefreshThreshold&&parseInt(C.adRefreshThreshold)||null,i=ee.getTop();r&&this.adRefreshIntervalIsValid(r)&&U.getAggregator().on("sendDt",(function(o,a){o===M.DT_CODES.PING&&a===r&&(ee.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"ir",e),U.getAggregator().trigger("adSessionComplete")}};return Q.isRefreshable((function(e,n){var r;if(!e&&n)try{(r=JSON.parse(n)).isRefreshable&&r.adServerName&&t.start()}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.AD_REFRESH)}})),t},settings:{tier:M.TIERS.ENVIRONMENT,applies:function(e,t,n){return n.isPossiblyRefreshable()}}},_e=function(){var e=!1;return V.whenReady((function(){U.getAggregator().trigger("startViewabilityLoop"),e=!0})),{loopStarted:function(){return e}}},ye={name:"loopDelay",dependencies:[],creator:_e,settings:{applies:function(e,t,n){return e.bootstrapOn("allowViewability")},tier:M.TIERS.VIEWABILITY}},we=function(e){var t,n,r,i,o,a=function(s){if(r&&!o&&s<1)return o=!0,void ee.setTimeout((function(){a(s)}),1e3);i=s<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),!0)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),!0))},s=function(e){a(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(!0),U.getAggregator().on("IOPivChange",a),U.getAggregator().on("newScreenEvent",s)}}},Ne=function(e){return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},Re=function(){return{applies:function(e,t){var n=U.getAggregator().request("mobileApp");return(e.browserIs(M.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(M.BROWSERS.WEBKIT)||e.browserIs(M.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},Ce=function(){var e,t,n,r=!1,i=function(o){return n&&!r&&o<1?(r=!0,void ee.setTimeout((function(){i(o)}),1e3)):(o<1?(e||t.stop(!0),e=!0):e&&(e=!1,t.start(!0)),e)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=Re();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(!0),U.getAggregator().on("IOPivChange",i)}}},be=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=ee.setInterval(e,r))},o=function(t){t&&e(),ee.clearInterval(n),n=null};return{start:i,stop:o,updateFrequency:function(e,t){r=e,o(),i(t)}}},Me=function(e){var t,n,r,i,o,a=Me.callTypeCounter,s=[M.DT_CODES.ADTALK],u={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10};return i=(t={},n=M.DT_CODES,se(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA"]).each((function(e,r){t[n[r]]=u[r]})),t)[e],o=a&&a[e],se.isDef(o)&&0!==o&&se(s).contains(e)&&(i=i+"."+o),r=a[e],a[e]=se.isDef(r)?r+1:1,{callType:e,enumerator:i}};Me.callTypeCounter={};var $e=Me,Ve={name:"viewabilityLoopLifecycle",dependencies:["viewability","features","context","browser"],creator:function(e,t,n,r){var i,o=Ne(n),a=[new Ce,new we(o)],s=function(e){"sessionFinish"===e.type&&U.getAggregator().trigger("adSessionComplete")},u=function(){var u,c=U.getAggregator().request("mobileApp").isMobileAppEnvironment();U.getAggregator().request("ids").impressionIsIdentifiable()&&(i=be(e.checkScreenLoc,o.getPollingFrequency()),(u=se(a).findFirst((function(e,i){return i.applies(r,t,n)?i:void 0})))?u.start(i):i.start(!0),c?Q.isOmid()?U.getAggregator().request("omidVerificationClient").registerSessionObserver(s,"IAS"):d("MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE"):d("beforeunload"))},d=function(e){V.addEvent(D.a,e,(function(){U.getAggregator().trigger("adSessionComplete")}),!1)},c=function(){!n.isVideo()||n.isAvid()||n.isOmidNative()||g(),U.getAggregator().trigger("unload"),i&&i.stop(),U.getAggregator().trigger("endAdSession"),U.getAggregator().trigger("stopAdTalk")},g=function(){var e=new $e(M.DT_CODES.VIDEO_EVENTS);U.getAggregator().trigger("sendDt",e.callType,e.enumerator,(function(){var e={id:C.videoId,msg:"unloadComplete",messageType:"misc"};ee.getWindow().postMessage(JSON.stringify(e),"*")}))};U.getAggregator().once("startViewabilityLoop",u),U.getAggregator().once("adSessionComplete",c)},settings:{tier:M.TIERS.VIEWABILITY}},Pe=function(){var e=function(t,n,r){var i,o,a=n.length,s=W.isWindow(t)?t.frames:W.getChildWindowsOf(t);if(r&&r(t,n),s&&s.length){for(i=0;i<s.length;i++)(o=s[i])&&W.isWindow(o)&&(n[a]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){W.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),se(r).filter(e)}}},xe=function(){return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return se(e).isObj()?[e]:(new Pe).getFrames(e)}(t);se(n).each((function(t,n){var r,i=se.resolve(e,n)||{};i.sentTime=ee.now(),r=function(e){return se(e).mapToObj((function(e,t){var n;return se.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(se(r).JSONStringify(),"*")}))}}}},Fe={name:"spgCache",dependencies:[],creator:function(){var e=["asp","fsc","mvn","no","sd"],t={},n=!1,r=function(){return i(t)},i=function(t){return se(t).keys().sort().toString()===e.toString()},o=function(){n||(n=!0,se(t).each((function(e,t){U.getAggregator().trigger("addOutputItem",t,e,{type:M.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),U.getAggregator().trigger("sendMinDt",M.DT_CODES.SCA))};return{allExpectedKeysPresent:i,isDtCallAlreadySent:function(){return n},addToCache:function(e,n){n&&n.output&&!r()&&(t[e]=n),r()&&o()},isFull:r,sendToOtherTags:function(){(new xe).send({scaInfoOriginatorASID:C.asid,cache:t})}}},settings:{}},Le=function(){var e,t=new xe;return{listen:function(n,r,i){e=function(e){!function(e,n,r,i){var o,a,s,u;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),a=e.source,u=se.noop,n(o)&&(i&&(s=i(a,o))&&(u=function(){t.send((function(){return s}),a)}),r(e,o,u))}catch(e){o&&U.getAggregator().trigger("error",M.ERROR_CODES.MESSAGE_LISTENER)}}(e,n,r,i)},V.addEvent(D.a,"message",e)},stop:function(){e&&V.removeEvent(D.a,"message",e),e=null}}},Ue={name:"spg",dependencies:["spgCache"],creator:function(e){var t=new Le;t.listen((function(t){return t&&t.scaInfoOriginatorASID&&t.scaInfoOriginatorASID!==C.asid&&t.cache&&e.allExpectedKeysPresent(t.cache)}),(function(n,r){t.stop(),ee.setTimeout((function(){e.isDtCallAlreadySent()||(U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),se(r.cache).each((function(t,n){e.addToCache(t,n)})))}),ee.round(1e3*ee.random()))})),U.getAggregator().on("addToSpg",(function(t,n){e.addToCache(n,t),e.isFull()&&(e.sendToOtherTags(),ee.setTimeout(e.sendToOtherTags,1300),ee.setTimeout(e.sendToOtherTags,3200))}))},settings:{tier:M.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("spg")}}},Ge=function(){for(var e=[ce,ge,me,fe,pe,Ee,Ae,Se,De,Te,Oe,ye,Ve,Fe,Ue],t=0;t<e.length;t+=1)U(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)},We=function(e){var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},je=function(e,t){var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=ee.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},Be=function(){var e=-1,t=function(t){if(!n()){var r=se.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return U.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},ke=function(e){var t=[];if(se(e.tiv).isArray())se(e.tiv).each((function(e,n){t.push(new We(n))}));else if("string"==typeof e.tiv){var n=e.tiv.split("|"),r=new Be;t.push(new je(r,parseInt(n[1].replace("%")))),t.push(new We(1e3*parseInt(n[0])))}else se.isDef(e.tiv)&&t.push(new We(1e3*e.tiv));return{getTimeThresholds:function(){return t}}},He=function(){var e=new ke({tiv:[1e4]}),t=se([M.IN_VIEW,M.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:e,type:M.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var n=ee.max(e.fullPercentInView||0,e.percentInView);return t.contains(e.viewState)&&100===n},applies:function(e,t){return e.on("abcAudit")&&925955==C.anId&&t.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Ye=function(){return{calcDims:function(e,t){var n,r,i=new k(e);return W.isClippable(e,t)&&(n=W.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(Q.isSpecifiedAd()||Q.isBustedIframe())&&W.nodeIsInWindow(e,ee.getTop()),n=!W.elementIsEmbedded(e);return t||n}}},qe=function(){var e=U.getAggregator().request("iframeCalculatorHelper");return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(Q.isSpecifiedAd()||Q.isBustedIframe())&&W.elementIsEmbedded(e)}}},Ke=function(){var e;return{calcDims:function(t,n,r){var i=se.isDef(r)?r.getAdNodeDimensions():void 0;return e&&se.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=Re(),n=U.getAggregator(),r=n.request("browser"),i=n.request("features"),o=n.request("context");return o.isDeviceTypeGroupMobile()&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},Xe=function(){var e=U.getAggregator().request("iframeCalculatorHelper");return{calcDims:function(t){var n=e.calcDims(),r=new k(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(Q.isSpecifiedAd()||Q.isBustedIframe())&&Q.embedded&&!W.nodeIsInWindow(t,ee.getTop()),r=Q.isCeltra()&&W.elementIsEmbedded(e);return n||r}}},Je=function(e,t){var n,r,i=[Xe(),qe(),Ye()];return r=se(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=Ke()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},ze=function(){return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},Qe=function(e,t){var n,r,i=M.NA,o=i,a=!1,s=!1,u=!1,d=!t,c=function(){var t=ee.getIntersectionObserver((function(e){var t=e.pop(),r=t.intersectionRect.width*t.intersectionRect.height/(t.boundingClientRect.width*t.boundingClientRect.height)*100;isNaN(r)&&(r=0),i=Math.min(r,100),n=t.boundingClientRect,i!==o&&ee.execAtEndOfThread((function(){U.getAggregator().trigger("IOPivChange",i)})),o=i}),{threshold:M.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});d&&ee.execAtEndOfThread((function(){i===M.NA&&(i=0)})),t.observe(g(e)),d&&ee.execAtEndOfThread((function(){Q.isBustedIframe()||U.getAggregator().trigger("delayedViewabilityReady")})),a=!0},g=function(t){if(!se.isUndef(t)){if(u){var n=e.document,i=n.createElement("div");se(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[M.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(u=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){s=!0}return t}();t&&null!==t.bodyElement?c():t&&t.document?V.whenReady(c,t.document):s?U.getAggregator().request("errors").add(M.ERROR_CODES.BUSTED_IFRAME_IN_IO):c()},isReady:function(){return i!==M.NA},isStarted:function(){return a},getAdNodeDimensions:function(){var e;return n&&(e=k({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},Ze=function(e,t,n,r){var i=Math.ceil(e),o=Math.ceil(t),a=Math.ceil(n),s=Math.ceil(r),u=o-i,d=s-a,c=u*d,g=function(){return{leftX:i,rightX:o,topY:a,bottomY:s,width:u,height:d,area:c}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},et=function(e,t){var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},a=function(e){var t,n=function(){var e=[];return se(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var a=n[r],s=n[r+1];i.push(new Ze(0,e,a,s))}},s=function(e,t){i.push(e),a(t),se(r).each((function(e,t){t(i)}))},u=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,a,d=e.pop(),c=d.boundingClientRect,g=c.width,m=d.intersectionRatio,l=d.intersectionRect,f=(t=c,r=(n=l).left-t.left,i=r+n.width,o=n.top-t.top,a=o+n.height,new Ze(r,i,o,a));s(f,g),1===m&&u()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},tt=function(e){var t,n,r,i=U.getAggregator().request("features"),o=U.getAggregator().request("browser");e=e||ee.getWindow();var a=function(t,n){t=t||e,n=n||{top:0,left:0,width:ee.getMaxNumber(),height:ee.getMaxNumber()};for(var r,i=t.parent.frames,o=!1,s=0,u=i.length;s<u;s++)if(i[s]==t){r=i[s],o=!0;break}if(o){var d=W.getRect(r.frameElement);n.left+=d.left,n.top+=d.top;try{n.width=ee.min(n.width,d.width),n.height=ee.min(n.height,d.height)}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.GET_AD_DIMENSIONS)}t!==ee.getTop()&&a(t.parent,n)}return n},s=function(){var s,u,d,c,g,m,l,f,p,v,E,h,I={};try{E=ee.getMaxNumber(),h=ee.getMaxNumber(),Q.friendly?(l=(g=a()).left,f=g.top,E=g.width,h=g.height,p=(m=W.browserWindowPosition()).scrX+l,v=m.scrY+f):i.on("rattie")&&o.browserIs(M.BROWSERS.IE)?(p=0,v=0,r=r||U.getAggregator().request("ieXDomainViewability"),p=(n=r.determineFramePosition()).scrX,v=n.scrY):se.isDef(e.mozInnerScreenX)&&(p=ee.round(e.mozInnerScreenX),v=ee.round(e.mozInnerScreenY)),I={scrX:p,scrY:v,iFrameClippingWidth:E,iFrameClippingHeight:h},c=t||W.getIeDimObj(e),t=c,se.isDef(e.innerWidth)?(u=e.innerWidth,d=e.innerHeight):c&&se.isDef(c.clientWidth)?(u=c.clientWidth,d=c.clientHeight,0===u&&c.offsetWidth>0&&(u=c.offsetWidth),0===d&&c.offsetHeight>0&&(d=c.offsetHeight)):e.frameElement&&se.isDef(e.frameElement.clientWidth)&&(u=e.frameElement.clientWidth,d=e.frameElement.clientHeight),s={width:u,height:d},I.height=s.height,I.width=s.width}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.GET_AD_DIMENSIONS)}return I};return{calcDims:function(){return new k(s())},getClippedDims:function(){var e=s();return new k({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},nt=function(e){var t=[],n=function(e,t,n){var r=e*n;return new Ze(0,t,r,r+n)};return function(){if(e.height<10)t.push({geometry:new Ze(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r=e.height/10,i=0;i<10;i++)t.push({geometry:n(i,e.width,r),percentageInViewContribution:10,isInView:!1})}(),{getSlices:function(){return t}}},rt=function(e,t){var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return se(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),a=Math.max(r.leftX,o.leftX),s=Math.min(r.rightX,o.rightX),u=Math.max(r.topY,o.topY),d=Math.min(r.bottomY,o.bottomY);n.push(new Ze(a,s,u,d))}})),n}(e,t);return se(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){se(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],se(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([Q.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],se(e).each((function(e,t){n.mbpr.push(M.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return se(e).each((function(e,n){t.push(n.isInView)})),t}}},it=function(){var e,t=M.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=M.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},ot=function(e){var t=it();return{getSliceStatus:function(n,r,i,o){var a,s=[],u=n.getRounded(),d=u.height,c=u.scrY,g=new k({scrX:u.scrX,width:u.width}),m=t.getConfig(u).numberOfSlices;g.set("height",ee.floor(d/m));for(var l=0;l<m;l++)g.set("scrY",ee.ceil(c+d/m*l)),a=100===e.calcPercentInView(g,r,i,o),s.push(a);return s}}},at=function(e,t,n,r,i,o){var a,s,u,d,c,g,m,l,f,p,v=W.getElementsWindow(t),E=(W.getElementsDocument(t),U.getAggregator().provide("iframeCalculatorHelper",tt(v)),Je(t,r)),h=M.AD_IDENTIFIER+"-"+C.asid,I=!1,A=k({}),S=Q.isDeviceTypeGroupMobile(),T=Q.usesGroupMCustomMetricMobilePassThru(),O=function(){return a||(a=E.calcDims(t,r,u),_()?y(a):n===M.DETECTION_METHODS.AD_PLACEHOLDER&&a.treatAsPlaceholder()),a},_=function(){return n===M.DETECTION_METHODS.VIDEO&&Q.embedded},y=function(e){var n=new k(t).getRounded();try{e.set("width",n.width),e.set("height",n.height)}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},w=function(){return!1},N=function(){var t,n=$(),r=E.getClippedDims&&(_()||Q.isCeltra());return n?s=u.getPiv():se.isUndef(s)&&(t=!S&&(Q.friendly||se.isDef(D.a.mozInnerScreenX))&&i.on("offscreen"),l=O(),m=new k(W.calcWinDims()),g=new k(t?W.calcMonDims():{}),f=r?E.getClippedDims():A,s=e.calcPercentInView(l,m,g,f)),s},R=function(){return e.calcInitialViewState(N())},b=function(){return t!==D.a&&O().isHidden()},$=function(){var e=Q.xDomainIframe&&I,t=S&&I&&u.isReady();return e||t};return function(){var n=ee.getWindow(),r=ee.getDoc(),i=t===n,o=r.body,a=U.getAggregator(),s=new Re,g=a.request("browser"),m=a.request("features"),l=a.request("context"),f=!Q.xDomainIframe,v=i&&o?r.body:t;if(p=Q.friendlyIframe?n.frameElement:v,V.addEvent(v,"click",(function(){U.getAggregator().trigger("adComponentClicked")})),V.addEvent(v,"mouseover",(function(){U.getAggregator().trigger("adComponentMousedOver")})),s.applies(g,m,l)){if((u=Qe(t,f)).start(),I=!0,T){var E=new nt(O().getRounded()),h=new ze,A=new et(u.getObservedNode(),h);d=new rt(E.getSlices(),A)}}else T&&(c=new ot(e))}(),{mark:function(){W.setAttributeOf(p,h,"")},cleanup:function(){W.removeAttributeOf(p,h)},isNode:function(e){return t===e},isHidden:b,isObstructed:w,getDims:O,getPercentInView:N,getLocationState:R,getOnPageViewability:function(){return b()?M.OUT_OF_VIEW:R()},getDetectionMethod:function(){return n},getContainerDims:function(){return E.allowsOptimization?a:k(r)},refresh:function(){a=void 0,s=void 0,g=void 0,m=void 0,l=void 0,f=void 0,o&&function(){var e,n;if(!Q.isDomless()&&(n=t.parentNode)){for(;t!==D.a&&n&&n!==document&&!e;)e=n===r,n=n.parentNode;e||(r=t.parentNode)}}()},getAdNode:function(){return t},getSliceStatus:function(){var e;return d&&d.isReadyToMeasure()?e=d.getSliceStatus():Q.friendly&&c&&se.isDef(l)&&(e=c.getSliceStatus(l,m,g,f)),e}}},st=(function(){var e=new F;return(new Le).listen((function(e){return e.asid===C.asid&&"FirewallJSAction"===e.channel}),(function(t,n){e.trigger(n.data.action,n.data)})),{events:e}}().events,function(e,t){var n,r=[],i=se([]),o=function(){return r[0]&&r[0].getDetectionMethod()===M.DETECTION_METHODS.AD_PLACEHOLDER},a=function(a,s,u,d){var c,g=o()||0===r.length,m=at(e,a,s,u,t,d);o()&&(c=r.shift(),i=se(r),c.cleanup(),n=void 0),r.push(m),i=se(r),g&&m.mark(),g&&s!==M.DETECTION_METHODS.AD_PLACEHOLDER&&U.getAggregator().trigger("primaryadfound",m),s===M.DETECTION_METHODS.AD_PLACEHOLDER&&"object"==typeof u&&U.getAggregator().trigger("addOutputItem",{output:u.nodeName},"spac")},s=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var a,s=i.getDims();s.hasValidDims()&&(e=i.getPercentInView(),t=e!==M.NA,a=s.area(),r+=a,o+=e/100*a)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},u=function(e){var t=U.getAggregator().request("adRenderStatus");return!e&&!t},d=function(e){var t,n=s();return t=n.hasMeasurement?ee.round(n.totalInView/n.totalArea*100):M.PIV_NA,(isNaN(t)||u(e))&&(t=0),t},c=function(n){var r=t.bootstrapOn("mobOrTab"),i=s().totalArea>=M.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!Q.isVideo();return e.calcInitialViewState(d(n),i)},g=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},m=function(e){return function(){return r[0]&&r[0][e]()}};return U.getAggregator().on("adComponentAdded",(function(e){se(e).each((function(e,t){-1===g(t)&&a(t,M.DETECTION_METHODS.MUTATION)}))})),U.getAggregator().on("adComponentRemoved",(function(e){se(e).each((function(e,t){var n=g(t);n>-1&&r.splice(n,1)}))})),{getDims:m("getDims"),isObstructed:m("isObstructed"),getDetectionMethod:m("getDetectionMethod"),getContainerDims:m("getContainerDims"),getViewState:c,getViewStateIgnoringRender:function(){return c(!0)},getPercentInView:d,getPercentInViewIgnoringRender:function(){return d(!0)},isHidden:m("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:a,getOutOfViewReasons:function(e){var t,i=[],o=r[0],a=M.OUT_OF_VIEW_REASONS;return o&&(t=n||c(),u(e)?i.push(a.RENDER):t!==M.OUT_OF_VIEW&&t!==M.PARTIAL_VIEW_MINUS||i.push(a.GEOM),o.isHidden()&&i.push(a.HIDDEN),o.isObstructed()&&i.push(a.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:m("getSliceStatus")}}),ut=function(e){var t=!1;if(!se.isUndef(D.a.MutationObserver)){var n=new D.a.MutationObserver((function(e){ee.execAtEndOfThread((function(){t&&se(e).each((function(e,t){t.addedNodes.length&&U.getAggregator().trigger("adComponentAdded",t.addedNodes),t.removedNodes.length&&U.getAggregator().trigger("adComponentRemoved",t.removedNodes)}))}))})),r=function(){t=!0,ee.setTimeout((function(){t=!1}),40)};U.getAggregator().on("adComponentClicked",r),U.getAggregator().on("adComponentMousedOver",r);V.whenReady((function(){try{n.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(M.ERROR_CODES.AC_WATCHER)}}),ee.getDoc())}},dt=function(){var e,t,n,r=function(e){e?e&&n&&(ee.execAtEndOfThread((function(){U.getAggregator().trigger("delayedViewabilityReadyCallOnly")})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||q();var n=W.crossQuerySelector(q().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},ct=function(){var e,t=function(){ee.execAtEndOfThread((function(){U.getAggregator().trigger("delayedViewabilityReadyCallOnly")}))};return{usePlaceholder:!1,detectionMethod:M.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=j().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=W.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},gt=function(){return{detectionMethod:M.DETECTION_METHODS.IFRAME,find:function(){return D.a},isApplicable:function(){return Q.embedded},getAdContainer:function(){return C.contextNode.parentNode},allowForAdContainerChange:!0}},mt=function(){var e=W.findChildWithLargestContent(ee.getDoc().body);return e&&e.hasValidSizeForMobileApp&&!e[M.IAS_DETECTOR]?e:void 0},lt=function(){var e=U.getAggregator().request("mobileApp");return{usePlaceholder:!0,detectionMethod:M.DETECTION_METHODS.AD_HUNT,isApplicable:e.isMobileAppEnvironment,find:function(){return mt()},getAdContainer:function(){return C.contextNode.parentNode},allowForAdContainerChange:!0}},ft=function(){var e;return{detectionMethod:M.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return Q.isSpecifiedAd()},find:function(){var t=W.crossQuerySelector(C._cl_adpath);return t&&(e=W.getParent(t),W.getNodeArea(t)<1&&(e=t,t=W.findElementsWithSize(t))),t},getAdContainer:function(){return e},allowForAdContainerChange:!0}},pt=function(e,t){var n,r=e||C.contextNode.parentNode,i=W.findChildWithLargestContent(r,t);return W.getNodeArea(i)>1&&!i[M.IAS_DETECTOR]&&(n=i),n},vt=function(){return{usePlaceholder:!0,detectionMethod:M.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:pt,getAdContainer:function(){return C.contextNode.parentNode},allowForAdContainerChange:!0}},Et=function(){return{detectionMethod:M.DETECTION_METHODS.VIDEO,find:U.getAggregator().request("video").findAdNode,isApplicable:Q.isVideo,getAdContainer:function(){return C.contextNode.parentNode},allowForAdContainerChange:!0}},ht=function(){var e;return{detectionMethod:M.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return Q.isCompoundAd()},find:function(){var t,n,r=[];return(t=C._cl_adpath,/\[(.*)\]/.exec(t)[1].split(",")).forEach((function(t){(n=W.crossQuerySelector(t))&&(e=W.getParent(n),W.getNodeArea(n)<1&&(e=n,n=W.findElementsWithSize(n))),r.push(n)})),r},getAdContainer:function(){return e},allowForAdContainerChange:!0}},It=function(e,t){var n=[ht(),ft()],r=[lt(),Et(),dt(),ct(),gt(),vt()],i=n.concat(r);return se(i).findFirst((function(n,r){return r.isApplicable(e,t)}))},At=function(e,t,n){var r,i=C&&C.contextNode&&C.contextNode.parentNode?C.contextNode.parentNode:null,o=st(t,n),a=function(){var e;o.hasAd()||(e=W.getPlaceholderSpan(),i.insertBefore(e,C.contextNode.nextSibling),o.addAdComponent(e,M.DETECTION_METHODS.AD_PLACEHOLDER,W.getParent(e)))};return ut(e),{find:function(){var e,t,i,s;return o.isUsingPlaceholder()||!o.hasAd()?!(e=(r=r||It(Q,n)).find())&&r.usePlaceholder?a():e&&(i=se(e).isArray()?e:[e],t=r.getAdContainer(),s=r.allowForAdContainerChange,se(i).each((function(e,n){o.addAdComponent(n,se.resolve(r.detectionMethod),t,s)}))):o.refresh(),o},getDetectionMethod:function(){}}},St=function(){var e=function(){return null};return{find:e,getDetectionMethod:e}},Dt=function(){return{createInstance:function(e,t,n){return Q.isDomless()?new St:new At(e,t,n)}}},Tt=function(e){return{resolve:function(){return se(e).findFirst((function(e,t){return t.environment.accepts()}))}}},Ot=function(){var e=function(e){var t=[];return se(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=W.getAncestorNodes(e);return se(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return Q.friendly&&!Q.isMobileApp()&&((n=U.getAggregator().request("adSlotIds"))?r=n:(n=function(){var n,r;return(n=W.getOurNodeInTop())&&(r=t(n)),r=r&&e(r)}())&&(U.getAggregator().trigger("addOutputItem",{output:n},"slid",{type:M.DT_CODES.ADTALK,asION:!0}),U.getAggregator().provide("adSlotIds",n),r=n)),r}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.AD_SLOT_ID)}}()},_t=function(e,t){var n,r=t.request("adProxy").myIdCard,i=t.request("frameCollection").getMe().getStringifiedPosition();n=U.getAggregator().request("features").on("swapids")?C.oid:C.asid;var o,a;return{messageContent:e||{},srcAsid:C.asid,srcTagId:r.tagId,srcIsEmbedded:Q.embedded,srcIsFriendly:Q.friendly,srcBirthdate:C.birthdate,iasCommonId:n.split("-")[2],nodeSelector:Q.friendly?"["+M.AD_IDENTIFIER+"-"+C.asid+"]":'iframe[src*="'+((a=(o=ee.getWindow()).location&&o.location.href)&&a.replace(/^https?\:\/\//i,""))+'"]',positionStr:i,version:"0.1"}},yt=function(){var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return se(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},wt=function(e,t,n,r){var i,o=e==D.a;(i={position:t.slice(0),id:t.join("-"),isMe:o,isLeaf:!e.frames.length,adProxies:o?n:[],selfDescription:void 0,unifiedId:C.birthdate,srcIsEmbedded:r?r.srcIsEmbedded:void 0,inbox:r?[r]:[]}).getDomObj=function(){return e},i.getStringifiedPosition=function(){return se(i.position).map((function(e,t){return se.toBase(Number(t)+1,36)})).join("")},i.isValidForMapping=function(){return i.isLeaf||i.isMe||se.isDef(i.selfDescription)};var a=function(e,t){return!se(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return i.addInformationFromSrc=function(e,t){var n,r,o,s;n=t,r=i.adProxies,o=n.adProxies,s=[],r.length&&o.length?se(o).each((function(e,t){a(r,t)&&s.push(t)})):s=o,i.adProxies=r.concat(s),function(e){se(i.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||i.inbox.push(e)}(e),i.srcIsEmbedded=e.srcIsEmbedded,i.selfDescription=t},i},Nt=function(e){var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,a){var s=e.request("adProxy").getAll(),u=new wt(i,o,s,a);return t.push(u),n[u.id]=u,u.isMe&&(r=u),u},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},Rt=function(e,t){var n=function(e,n){var o=n.adProxies,a="";if(n.isValidForMapping())return a+=t?i(o,n.getStringifiedPosition()):r(o,n)},r=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},i=function(e,t){var n="";return e.length?n+=se(e).stringify((function(e,n){return o(n,t)}),"|"):n+=t,n},o=function(e,t){return t+(C.asid===e.adSafeId?"*":"")+"."+e.tagId};return{output:function(){var t=e.request("frameCollection"),r=se(t.list).stringify(n,"|");return se.toBase(t.getMe().unifiedId,62)+"+"+r}}},Ct=function(e){var t=e.request("frameCollection").getMe().getStringifiedPosition(),n=C.contextNode.parentNode,r=e.request("interFrameQuerySelector",n),i=function(e){var i=!Q.embedded,o="BODY"!==W.getNodeName(n)&&"HEAD"!==W.getNodeName(n),a=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(M.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return i&&o&&!a?!!function(e){return r.queryFor(e.nodeSelector)}(e):!!function(e){var n=e.positionStr,r=e.srcIsEmbedded&&Q.embedded,i=0===t.indexOf(n)||0===n.indexOf(t);return r&&i}(e)};return{output:function(){var n,r,o=t+"*";return(r=e.request("adTalkMessageCollection").map((function(e,t){var n;return e!==C.asid&&i(t)&&(n=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(t)),n}))).push(o),n=r.join("|"),n.length>120&&(n=function(e){return e&&e.substr(0,120)+".of"+e.length}(n),U.getAggregator().trigger("stopAdTalk")),n},isCandidateForMyIdMap:i}},bt=function(e){var t=new Pe,n=function(e,t){return W.querySelector(function(e){var t=e,n="IFRAME"===W.getNodeName(e),r=W.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,a,s;try{(a=n(r,i))||(o=t.getFrames(!0,e),se(o).findFirst((function(e,t){return s=n(t,i)})))}catch(e){}return a||s||null}(e,r)),i}}},Mt=function(e){var t,n,r=!1,i=U.getAggregator().request("features");n=i.on("swapids")?C.oid:C.asid;var o=function(t){var r=n.split("-")[2],i=!e.request("adTalkMessageCollection").has(t)&&t.srcAsid!==C.asid;return t.hasOwnProperty("messageContent")&&r===t.iasCommonId&&i},a=function(){var t=e.request("frameCollection").getMe(),n={self:t,unifiedId:t.unifiedId};return e.request("adTalkMessage",n)},s=function(){var t=M.DT_CODES.ADTALK;e.request("frameCollection");r||(r=!0),U.getAggregator().trigger("sendDt",t)},u=function(t,n,i){var o,a,u,d,c,g,m;try{o=e.request("frameCollection"),a=e.request("adTalkMessageCollection"),u=n.messageContent.self,a.add(n),g=o.getMe(),m=u,g.unifiedId>m.unifiedId&&(g.unifiedId=m.unifiedId),n.transferDuration=function(e){return ee.now()-e.sentTime}(n),d=o.getFrame(u.id),c=d,se.isUndef(c)||se.isUndef(c.selfDescription)?((d=d||o.addFrame(t.source,u.id.split("-"),n)).addInformationFromSrc(n,u),i()):d.addInformationFromSrc(n,u),r&&e.request("idMapModule").isCandidateForMyIdMap(n)&&s()}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:s,sendToKnownFrames:function(){(new xe).send(a)},startListening:function(){(t=new Le).listen(o,u,a)},stopListening:function(){t&&t.stop()},validateMessage:o,processMessage:u,createMessage:a}},$t=function(){var e=U.getAggregator().request("ids"),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},Vt=function(){var e,t=[],n=function(e){var n=new $t(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},Pt=function(e){var t,n,r,i=new L,o=new Pe,a=new Nt(i),s=new yt,u=new Vt,d=new Mt(i,e),c=function(){return se.isUndef(r)&&(r=new Ct(i)),r};return{isApplicable:function(e){return se.isDef(D.a.JSON)&&se.isDef(D.a.postMessage)&&!e.isAvid()&&!e.isOmidNative()},start:function(){i.provide({frameCollection:function(){return a},adProxy:function(){return u},adTalkMessage:function(e){return new _t(e,i)},adTalkMessageCollection:function(){return s},idMapModule:c,interFrameQuerySelector:function(e){return new bt(e)}}),o.traverse(a.addFrame),d.startListening(),d.sendToKnownFrames(),U.getAggregator().once("stopAdTalk",(function(){d.stopListening()})),U.getAggregator().provide("adTalkEventAggregator",i)},sendAdTalkCall:d.sendAdTalkCall,getFrameMap:function(){return se.isUndef(t)&&(t=new Rt(i)),t},getFrameMapIncludingPeerCase:function(){return se.isUndef(n)&&(n=new Rt(i,!0)),n},getIdMap:c}},xt=function(){return{isApplicable:function(){return!1},start:function(){}}},Ft=function(){return{createInstance:function(e){return Q.isDomless()?new xt:new Pt(e)}}},Lt=function(){var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(U.getAggregator().request("adNode"))return parseFloat(U.getAggregator().request("videoVersion"))};return{isApplicable:function(e,t,n){return!function(e){return e.isVideo()&&!(e.isAvid()||e.isMraid()||e.isOmid())&&r()<3.7}(n)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=ee.getWindow().location.ancestorOrigins,t=!0}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return se.last(e)},sendOriginList:function(){var t;t="ao:"+(e?se(e).map(n).reverse():[]).join(","),U.getAggregator().trigger("addOutputItem",{output:t},"tpiLookup",{type:M.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),U.getAggregator().trigger("sendDt",M.DT_CODES.THIRD_PARTY)}}},Ut=function(e,t,n,r,i){var o=function(e,t,n){i.addItem({output:e+"."+t+"."+n},"ctpl")},a=function(i){try{t.diagnostic("c");var a=i.length,s=0,u=0;o(a,0,0),se(i).each((function(t,n){e.send(function(e){return e.replace("%%CBS%%",r.getCacheBustId())}(n),(function(){o(a,s,++u)}),!0),o(a,++s,u)}))}catch(e){n.add(M.ERROR_CODES.AT_SEND)}};return{init:function(){try{var t=(new K).fullDom;"/"!==t.slice(-1)&&(t+="/"),t+="tpl?asId="+C.asid,e.jsonp(t,a)}catch(e){n.add(M.ERROR_CODES.AT_INIT)}}}},Gt=function(e){var t,n=[],r=e||D.a,i=function(){return"stub"===s().mode},o=function(e,t){r.avid.addEventListener(e,t)},a=function(){return void 0!==r.avid},s=function(){var e,t={};if(a())if("string"==typeof(e=r.avid.getAvidAdSessionContext()))try{t=JSON.parse(e)}catch(e){O("avidadsessioncontext",e,D.a.bootstrapper)}else"object"==typeof e&&(t=e);return t};return Q.isDomless()||i()&&(t=r.setInterval((function(){"stub"!==s().mode&&(r.clearInterval(t),function(){for(var e=0;e<n.length;e++)o(n[e].type,n[e].functionToExecute)}())}),10)),{isAvidAvailable:a,getAvidAdSessionContext:s,addEventListener:function(e,t){i()?n.push({type:e,functionToExecute:t}):o(e,t)},getHtmlVideoAvidAdSessionListener:function(){if(i())throw"`HtmlVideoAvidAdSessionListener` is not available while in stub mode.";return r.avid.getHtmlVideoAvidAdSessionListener()}}},Wt=function(){return{accepts:function(){return!0}}},jt=function(){return{start:function(){var e=C.contextNode&&(C.contextNode.dataset.iasParameters||C.iasParameters);U.getAggregator().trigger("tryToCallContinueMain",e)}}},Bt=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],kt=function(){var e=function(e){var t=!1;return Bt.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},Ht=function(e){var t=!1,n=!1,r=!1,i=!1,o=U.getAggregator().request("omidAdSessionContext");o.queuedOutputItems=[];var a=new kt,s=U.getAggregator().request("omidAdSessionVerificationParameters"),u=ee.getWindow(),d=u&&u.omid3p,c=!!(d&&se.isFunction(d.registerSessionObserver)&&se.isFunction(d.addEventListener))?d:e,g=!1,m=function(){return s&&s.IAS&&Object.keys(s.IAS).length>0?s.IAS:s},l=function(){t&&n&&(!i||r)&&(D.a.omidSupported=!0,o.hasOwnProperty("impressionType")&&o.queuedOutputItems.push({code:"oiet",value:o.impressionType}),o.hasOwnProperty("creativeType")&&o.queuedOutputItems.push({code:"oct",value:o.creativeType}),U.getAggregator().trigger("tryToCallContinueMain",m()),g=!0)},f=function(e){var n;if("sessionStart"===e.type){o.adSessionType=e.data.context.adSessionType,o.environment=e.data.context.environment,o.accessMode=e.data.context.accessMode,o.omidNativeInfo=e.data.context.omidNativeInfo,o.omidJsInfo=e.data.context.omidJsInfo,o.deviceInfo=e.data.context.deviceInfo,o.app=e.data.context.app,o.app&&"string"==typeof o.app.appId&&o.app.appId.toLowerCase().indexOf("pandora")>-1&&(o.ignoreDivAsCandidate=!0),e.data.hasOwnProperty("contentUrl")&&(o.contentUrl=e.data.contentUrl),o.isJavaScript="javascript"===o.adSessionType,o.isNative="native"===o.adSessionType||"javascript"===o.adSessionType,o.isLimitedSandbox=Q.embedded,o.isHtml="html"===e.data.context.adSessionType,o.isWeb="web"===e.data.context.environment,s=e.data.verificationParameters,n=o.isHtml&&o.isWeb,!e.data.hasOwnProperty("supportsLoadedEvent")||"true"!==e.data.supportsLoadedEvent&&!0!==e.data.supportsLoadedEvent||"string"!=typeof e.data.creativeType||""===e.data.creativeType?o.queuedOutputItems.push({code:"ohand",value:"12"}):(i=!0,o.useOMID13Logic=!0,o.queuedOutputItems.push({code:"ohand",value:"13"}));for(var r,a,u,d=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],c=0;c<d.length;c++)r=d[c].root,a=d[c].field,u=d[c].code,"object"==typeof o[r]&&void 0!==o[r][a]&&o.queuedOutputItems.push({code:u,value:o[r][a]});o.queuedOutputItems.push({code:"oast",value:o.adSessionType}),o.queuedOutputItems.push({code:"oacm",value:o.accessMode}),o.queuedOutputItems.push({code:"oenv",value:o.environment}),o.hasOwnProperty("contentUrl")&&o.queuedOutputItems.push({code:"ocon",value:encodeURIComponent(o.contentUrl||"")}),n?U.getAggregator().trigger("tryToCallContinueMain",m()):(t=!0,l())}if("sessionError"===e.type){var f="string"==typeof e.data.errorType?e.data.errorType:"NoErrType",p="string"==typeof e.data.message?e.data.message:"NoMessage",v=f+"_"+encodeURIComponent(p);g?U.getAggregator().trigger("addOutputItem",{output:v},"oser"):o.queuedOutputItems.push({code:"oser",value:v})}},p=function(e){o.mediaType=e.data.mediaType,o.queuedOutputItems.push({code:"omtp",value:o.mediaType}),"video"===e.data.mediaType&&(o.isVideo=!0),function(e){return e.data.viewport&&e.data.adView}(e)&&(o.impressionViewabilityMeasurement={data:{viewport:e.data.viewport,adView:e.data.adView}},void 0===o.geometryArrived&&a.checkForViewAttachmentBasedOnAdSessionType(o,e.data.adView)&&(o.geometryArrived=!0,U.getAggregator().trigger("omidrendgeoupdate"))),e.data.hasOwnProperty("impressionType")&&!o.hasOwnProperty("impressionType")&&(o.impressionType=e.data.impressionType),o.isNativeVideo=o.isNative&&"video"===e.data.mediaType,o.isDisplay="display"===e.data.mediaType,n=!0,l()},v=function(e){if(e&&"start"===e.type)return o.videoStartArrived=!0,void U.getAggregator().trigger("omidrendvideostart");"loaded"===e.type&&(r=!0,e.data.hasOwnProperty("creativeType")&&(o.creativeType=e.data.creativeType),e.data.hasOwnProperty("impressionType")&&(o.impressionType=e.data.impressionType),l())};return{start:function(){c.addEventListener("media",v),c.addEventListener("video",v),c.registerSessionObserver(f,"IAS"),c.addEventListener("impression",p)}}},Yt=function(e,t,n,r){return{enabled:"true"===C.useBapiCallback,callback:function(t){n.trigger("sendDiag");try{"true"===C.accountForSadImps&&r.measure(t),C._onAPIResult&&C._onAPIResult(t)}catch(t){e.add(M.ERROR_CODES.BAPI_CALLBACK),n.trigger("sendDiag","bapiClient")}}}},qt=function(){var e,t,n=!1,r=U.getAggregator().request("mPage"),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,U.getAggregator().trigger("sendDt",M.DT_CODES.LARGE_BILLABLE))};U.getAggregator().on("primaryadfound",(function(t){e=t.getDims().area()>=M.MRC_LARGE_AD_SIZE,i()})),U.getAggregator().on("impressionsent",(function(){t=!0,i()})),r.onHiddenChange(i)},Kt=function(){var e=M.BROWSERS,t=function(e){return n()===e},n=function(){var t="u",n=ee.getWindow();try{se.isDef(n.opera)&&se.isDef(n.opera.buildNumber)?t=e.OPERA:se.isDef(n.mozInnerScreenY)?t=e.GECKO:se.isDef(n.chrome)&&se.isDef(n.chrome.csi)?t=e.CHROME:se.isDef(n.msWriteProfilerMark)&&se.isDef(n.crypto)?t=e.MSEDGE:se.isDef(n.attachEvent)||se.isDef(n.msCrypto)?t=e.IE:se.isDef(n.WebKitPoint)&&(t=e.WEBKIT)}catch(e){}return t},r=function(){var n=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"],r=M.NA,i=ee.getDoc(),o=i.createElement("div");if(t(e.IE))try{if("-ms-ime-align"in i.documentElement.style)r="11";else{o.style.behavior="url(#default#clientcaps)";for(var a=0;a<n.length&&!(r=o.getComponentVersion(n[a],"componentid").replace(/,/g,"."));a++);}}catch(e){}return r},i=function(){var e=!1,t=ee.getWindow();return se.isDef(t.navigator)&&se.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent),e};return{browserIs:t,hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasAncestorOrigins:function(){var e=ee.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=ee.getWindow();return!(!e||!se.isFunction(e.postMessage))},getDocumentMode:function(){var e=ee.getDoc();return e&&e.documentMode?e.documentMode:M.NA},getBrowserType:n,getUserAgent:i,params:function(){return{br:n(),abv:r(),an:(e=M.NA,t=ee.getWindow(),se.isDef(t.navigator)&&se.isDef(t.navigator.appName)&&(e=t.navigator.appName.toLowerCase()[0]),e)};var e,t},isAndroidWebViewBrowser:function(){var e=i();return b.contains(e,"Android")&&se(["SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return b.contains(e,n)}))},getIOSVersion:function(){var e,t,n,r=i();return r&&(e=r.match(/OS\s\d+/))&&e.length>0&&(n=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),n}}},Xt=function(){var e=function(){return!1},t=function(){return M.NA};return{getDocumentMode:t,getBrowserType:function(){return"u"},getIOSVersion:function(){},params:function(){return{br:"u",abv:t(),an:t()}},browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,isAndroidWebViewBrowser:e}},Jt=function(){return{createInstance:function(e,t,n,r){return Q.isDomless()?new Xt:new Kt}}},zt=function(e){var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,a=e.length,s=[];o<a;o++)r=t(e[o]),i=b.hashCode(r),n=se.toBase(i,62).slice(-4),s.push(n);return s},decode:function(n){var r,i;return r=ee.floor(ee.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},Qt=function(){return{isApplicable:function(e){var t=ee.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=ee.getWindow(),o=zt(i.navigator.plugins),a=o.hash();n=a.join("."),U.getAggregator().trigger("addOutputItem",{output:n},"pl",{type:M.IMPRESSION_EVENT}),a.length&&(t=o.decode(a),r=t.join("."),U.getAggregator().trigger("addOutputItem",{output:r},"pd",{type:M.DT_CODES.ADTALK}))}}},Zt=function(){var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h"};return U.getAggregator().on("newScreenEvent",(function(r){var i=se(r).selectProperties(se(n).keys()),o=se(i).asStrings(),a=se(o).compareTo(t);a&&(a.t=Q.getTagTime(),e.push(a)),se(t).mixin(o)})),{toString:function(){return se(e).toION(n)}}},en=function(){var e;return{isApplicable:function(t){var n=!(!(e=U.getAggregator().request("omidAdSessionContext")).app||!e.isDisplay||e.isWeb),r=t&&t.indexOf("/blocking/")>-1&&!Q.integratedBlockingApplies(t);return n&&r},deployBlockingScriptIntoIframe:function(t){e=U.getAggregator().request("omidAdSessionContext");var n,r="iasbi"+C.asid,i=function(e,t){var n,r,i,o=C.contextNode.parentNode,a="about:blank",s=C.adWidth&&C.adWidth>0?C.adWidth:0,u=C.adHeight&&C.adHeight>0?C.adHeight:0,d=ee.getDoc().getElementsByTagName("ins"),c=0,g=0;d&&d.length>0&&(i=d[0],c=parseInt(i.style.width),g=parseInt(i.style.height));var m=c||s||window.innerWidth,l=g||u||window.innerHeight;return"complete"===ee.getDoc().readyState&&(C.forceAppend="true"),"true"===C.forceAppend?((n=ee.getDoc().createElement("IFRAME")).id=e,n.src=a,o.appendChild(n)):ee.getDoc().write('<iframe id="'+e+'" src="'+a+'"></iframe>'),(r=ee.getDoc().getElementById(e))&&(r.style.width=m+"px",r.style.height=l+"px",r.scrolling="no",r.frameborder=0,r.style.position="absolute",r.style.padding=r.style.margin=r.style.border="0px"),r}(r);i&&(n=i.contentWindow.document)&&(n.open().write(function(e,t){var n,r="",i="",o=ee.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var a=0;a<n.attributes.length;a++)r+=" "+n.attributes[a].nodeName+'="'+n.attributes[a].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'"><\/script>'+i+"</body></html>"}(r,t)),n.close())}}},tn=function(e,t){var n=function(e,t){var n,r,i,o={script:['<script type="text/javascript" src="','"><\/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']};function a(e,t,n){var r,i;"script"!==e?((i=document.createElement("DIV")).innerHTML=n,r=i.childNodes[0]):(r=document.createElement("SCRIPT")).src=t,C.contextNode.parentNode.appendChild(r)}t=t||e,r=(n=o[e=arguments.length>1?e:"script"])[0]+t+n[1],Q.isOmid()?(i=new en).isApplicable(t)?i.deployBlockingScriptIntoIframe(t):a(e,t,r):"true"===C.forceAppend?a(e,t,r):document.write(r)},r=function(e,t,n){var r,i=!n&&V.getXHR2();i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=W.createImage(),t&&(r.onload=t),r.src=e)},i=function(e,t,n,r){var i=document.createElement("script");n=n||C.contextNode.parentNode,i.type="text/javascript",i.src=e,t&&(i.onload=t),r&&(i.setAttribute("defer",""),i.setAttribute("async","")),se.isDef(n)&&n.appendChild(i)},o=function(e){if(se.isFunction(e))e({iasImpId:C.asid});else if(e&&"string"==typeof e){var t=new K(e,!0).toString();r(t,void 0,!0)}},a=function(e,n,r,o){i(t.wrap(e,n,r,o))};return U.getAggregator().on({addNode:n,send:r,exec:i,notify:o,jsonp:a}),{addNode:n,send:r,exec:i,notify:o,jsonp:a}},nn=function(e){var t=function(e,t){t=t||e,e=arguments.length>1?e:"script";var n=U.getAggregator().request("omidVerificationClient");n["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},n=function(e,t){e=encodeURI(e),U.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})},r=function(e,t){U.getAggregator().request("omidVerificationClient").injectJavaScriptResource(e,t||function(){})},i=function(e){if(se.isFunction(e))e({iasImpId:C.asid});else if(e&&"string"==typeof e){var t=new K(e,!0).toString();n(t)}},o=function(t,n,i,o){r(e.wrap(t,n,i,o))};return U.getAggregator().on({addNode:t,send:n,exec:r,notify:i,jsonp:o}),{addNode:t,send:n,exec:r,notify:i,jsonp:o}},rn=function(){return{createInstance:function(e,t){return Q.isDomless()?new nn(t):new tn(e,t)}}},on=function(){var e=C.asid,t=C.cookieBaseURL,n=C.protocol,r=function(e){se(e).each((function(e,t){U.getAggregator().trigger("notify",t)}))},i=function(){var i,o=((i=new K(n+"://"+t,!0)).setParam("asid",e),i=i.toString());U.getAggregator().trigger("jsonp",o,r,!0),U.getAggregator().trigger("updateDtCount")};return{start:function(){U.getAggregator().on("sendCookie",i)},isApplicable:function(e){return e.on("cookie")&&e.bootstrapOn("sendCookie")&&e.bootstrapperHas(["protocol","cookieBaseURL","asid"])}}},an=function(e,t){var n,r,i,o,a,s,u=ee.getMaxNumber(),d=t.isVideo(),c=e.id,g=e.sound&&"on"===e.sound,m=!(e.soundExcl&&"groupm_native"===e.soundExcl&&C.groupm_native_publisher)&&g,l=function(t,n){if(!t.adDimensions)return!1;var r,i,o,a,s=n?"percentInViewIgnoringRender":"percentInView",c=t.adDimensions.area(),g=1===t.tabHidden,l=ee.max(t.fullPercentInView||0,t[s]);return r=se(e.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||u,c>=i&&c<=o)return!0})),a=!g&&l>=r.piv,function(e){return e.method==M.DETECTION_METHODS.AD_PLACEHOLDER}(t)&&function(e){return 0===e.tiv}(e)&&(a=!1),d&&(a=a&&t.isVideoPlaying,m&&(a=a&&t.isSoundOn)),a};return n=new ke(e),r=e.qiv,i={},se.isDef(C.rts)&&se.isDef(C.rts[c])&&(a=n&&se.isFunction(n.getTimeThresholds)&&n.getTimeThresholds()[0],s=se.isDef(a)?se.isFunction(a.getTimeInViewForRts)&&a.getTimeInViewForRts():M.RTS_KEY_FOR_VQ,i[s]=C.rts[c]),o=e.minunit?1e3*e.minunit:1e3,{timeInViewThresholds:n,qivThreshold:r,type:M.DT_CODES.CUSTOM,rts:i,isInView:l,isInViewIgnoringRender:function(e){return l(e,!0)},metricId:c,minUnit:o,thresholdType:e.thresholdType,shouldIncludeSound:m,sendOtherwiseInViewSignal:!0}},sn=function(e,t,n){var r=t.isVideo()?"video":"display",i=t.isMobileApp()?"app":"web",o=t.isDeviceTypeGroupMobile()?"mobile":"desktop",a=se(e.customViewability).isArray()&&e.customViewability.length>0,s=n.on("customMetric"),u=n.on("groupmCM"),d=function(e,t){var n,a,s,d;return n=se(t.mediaTypes).contains(r),a=se(t.distributionChannels).contains(i),s=!se.isDef(t.deviceGroups)||se(t.deviceGroups).contains(o),d=!b.contains(t.id,"fiv"),b.contains(t.id,"groupmCM")&&(d=u),d&&n&&a&&s};return{resolve:function(){var t,n=[];return s&&a&&(t=se(e.customViewability).filter(d),se(t).each((function(e,t){n.push(t)}))),n}}},un=function(e,t,n,r,i,o,a,s){var u=0,d=0,c=!1,g=function(e,t,o,s,g,m){o=o||!n.on("postDts");var l=e===M.DT_CODES.DIAGNOSTIC||e===M.DT_CODES.ADTALK||e===M.DT_CODES.SCA||e===M.DT_CODES.XSCA||e===M.DT_CODES.EXTERNAL||e===M.DT_CODES.LARGE_BILLABLE;if(r.impressionIsIdentifiable()&&(l||"n"!==a.getCurrentLoc()))try{var v=C.dtBaseURL,E=new K(v,!0),h=ee.now();U.getAggregator().trigger("preSendDt",e),v||(E.path("dt"),n.on("usedtdomain")&&E.sub("dt")),f(E,e,t),g&&g.field&&E.setParam(g.field,g.value),s||p(E,e),U.getAggregator().trigger("send",E,(function(){d+=1,u=ee.now()-h,se.isFunction(m)&&m()}),o),e===M.DT_CODES.UNLOAD&&(c=!0),i.cleanup()}catch(t){O("dt-"+e,t),U.getAggregator().trigger("error",M.ERROR_CODES.PHONE_HOME)}},m=function(){if(!c){var e=M.DT_CODES.UNLOAD;g(e,-1,!0)}},l=function(e,t){var r={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},i=C.mode,o=r[e]||r[i];t=t||i+"Diag",n.on(t)&&o&&g(M.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:o})},f=function(e,t,n){var o=new $e(t),a=se.isDef(n)?n:o.enumerator;e.setParam("asId",C.asid);var s={c:r.getCacheBustId(),pingTime:a,time:Q.getTagTime(),type:t};i.filterOutput((function(e){var n=e.minDt&&(!e.type||e.type===t);return n&&e.oneTime&&(e.flagForRemoval=!0),n}),s),e.setParam("tv",s)},p=function(e,r){var c,g,m={};i.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===r}),(function(t,n){e.setParam(t,n.replace("%3A",":"))})),a.fastForward(),function(e){return e===M.DT_CODES.CUSTOM||e===M.DT_CODES.UNLOAD||e===M.DT_CODES.VIDEO_EVENTS||e===M.DT_CODES.FULLY_INVIEW||e===M.DT_CODES.PING||e===M.DT_CODES.VIEWABILITY_READY||e===M.DT_CODES.ADTALK}(r)&&(m.clog=s,Q.isVideo()&&(g=Q.isOmid()&&!Q.isOmidForWeb()?"omidVideoEventsString":"videoEventsString",(c=U.getAggregator().request(g))&&!c.isEmpty()&&(m.ve=c))),r===M.DT_CODES.UNLOAD&&(m.ndt=d),-1!==C.mode.indexOf("jsvid")&&(m.vv=U.getAggregator().request("videoVersion")),m.NULL1=n.output(),m.NULL2=a.stringify(10),m.em=Q.embedded,m.fr=Q.friendly,m.e=t.toString(),m.tt=C.mode,m.dtt=u,i.filterOutput((function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==r);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),m),e.setParam("tv",m),e.setParam("br",o.getBrowserType())};return U.getAggregator().on({sendDt:function(e,t,n){g(e,se.resolve(t),void 0,void 0,void 0,n)},sendMinDt:function(e,t){g(e,t,void 0,!0)},sendDiag:l,updateDtCount:function(){d++},unload:m}),{send:g,unload:m,diagnostic:l,setViewabilityMod:function(e){e}}},dn=function(){var e,t=0,n=0,r=new F(!0),i=function(){e&&(t++,r.trigger(t),n>t?ee.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=se.collapseArgsIntoHash(e,t);se(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,ee.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},cn=function(){var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():U.getAggregator().trigger("sendDt",M.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new dn,r=0,i(!0),t.start()},a=function(r,i,a,s){var u=n[r];s?(se.isDef(u[i])||(u[i]=[]),u[i].push(a)):u[i]=a,t&&t.isActive()||o(),e=!0},s=function(n,r,i){U.getAggregator().trigger("addOutputItem",{output:r},n,i),t&&t.isActive()||o(),e=!0},u=function(t){se(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};se(i).isEmpty()||(U.getAggregator().trigger("addOutputItem",{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){U.getAggregator().on("preSendDt",(function(e){u(e),t&&t.kill()})),U.getAggregator().on("addThrottledProp",a),U.getAggregator().on("addThrottledOutputItem",s)},addFieldTypes:function(e){se(e).each((function(e,t){n[t]={}}))}}},gn=function(){var e={},t=function(t){se.isDef(e[t])?e[t]++:e[t]=1};return U.getAggregator().on("error",(function(e){var n=se(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},mn=function(e,t){var n=function(e){var t=[];if(!(e&&e instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");return(t=se(e).map((function(e,t){return t.val}))).push(C.adsafeSrc,C.requrl,C.reqquery),t};return{parse:function(r){try{var i,o=n(r),a=o&&o.length&&o.join("|"),s=C.exchList;a&&(i=se(s).map((function(e,t){return a.indexOf(b.rot(t))>=0?e:void 0}))).length&&t.addItem({output:i.join(".")},"ex",{type:M.IMPRESSION_EVENT})}catch(t){e.add(M.ERROR_CODES.EXCHANGE_PARSING)}}}},ln=function(){return{parse:function(e){}}},fn=function(){return{createInstance:function(e,t){return Q.isDomless()?new ln:new mn(e,t)}}},pn=function(){var e={},t=function(t){var n,r,i,o;return se.isUndef(e[t])&&(n=C.jsFeatures,e[t]=!1,-1!==n.indexOf(t)&&(r=new RegExp(t+"(?=$|,)|"+t+":(?!,|$)(.?\\d*(?=,|$))").exec(n))&&(o=!(i=r[1]),e[t]=o||i>100*ee.random())),e[t]},n={es:"everySecond",sc:"usesca",ha:"usehaps"},r={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:"b11",cnod:"cnod"};C.integration&&(r.intblk="integration");var i=function(e){var t=C[e];return se(["integration"]).contains(e)?!!t:!0===t||"true"===t||se.isFunction(t)};se(n).each((function(e,n){t(n)}));return{on:t,bootstrapOn:i,bootstrapperHas:function(e){var t=se.isStr(e)?[e]:e;return se(t).map((function(e,t){if(se.isDef(C[t]))return 1})).length===t.length},getEnabledScriptUrl:function(e){var n=t("use"+e),r=C.sp_cdnScripts&&C.sp_cdnScripts[e];return n&&r},output:function(){return se((t=se(n).mapToObj((function(t,n){var r={};return r[t]=se.fromBoolToNum(e[n]),r})),(o=se(r).mapToObj((function(e,t){var n={};return n[e]=se.fromBoolToNum(i(t)),n}))).gm=se.fromBoolToNum(Q.usesGroupMCustomMetric()),se(t).mixin(o))).toParams();var t,o}}},vn=function(){var e=function(e,t,n){e===C.asid&&(n.unshift(t),U.getAggregator().trigger.apply(null,n))};return{getMethod:function(t){return function(n){var r={asid:C.asid,constant:M,features:t,context:Q,dtBaseURL:C.dtBaseURL,spg:Ue};"function"==typeof n&&n(e,r)}},getMethodName:function(e){return"register_"+e}}},En=function(e,t){var n,r=function(e){return e+"?t="+(new Date).getTime()+"&r="+Math.floor(1e5*Math.random())},i=/MSIE [1-9][^0-9]/g,o=function(){return!!navigator&&"string"==typeof navigator.userAgent&&-1!==navigator.userAgent.search(i)},a=function(){return"about:blank"};return function(t){var i;(n=W.createHiddenIframe()).setAttribute("src",a()),(e||C.contextNode.parentNode).appendChild(n),i=function(e){return e.contentWindow.document}(n);var s=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+(o()?r(t):t)+"'\">"].join("");i.open().write(s),i.close()}(t),{getWindow:function(){return n.contentWindow}}},hn=function(e,t){return{start:function(){try{var n=vn(),r=n.getMethodName(e),i=new K(t.getEnabledScriptUrl(e));new En((o=ee.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.FEATURE_SCRIPT)}var o}}},In=function(){return{start:function(e,t){se(e).each((function(e,n){t.getEnabledScriptUrl(n)&&hn(n,t).start()}))}}},An=function(){M.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),a=Math.min(n.scrX+n.width,r.scrX+r.width)-i,s=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return k({scrX:i,scrY:o,width:a>0?a:0,height:s>0?s:0})};return{calcInitialViewState:function(e,t){var n,r=M.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},se.isDef(e)&&e!==M.NA&&e>-1&&(r=e>=n.IN_VIEW?M.IN_VIEW:e<=n.OUT_OF_VIEW?M.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?M.PARTIAL_VIEW_PLUS:M.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,a=t;return t.hasValidDims()&&!t.isHidden()&&(se([n,r,i]).each((function(t,n){n.hasValidDims()&&(a=e(a,n))})),o=ee.round(a.area()/t.area()*100)),o}}},Sn=function(e,t){return{timeInViewThresholds:new ke({tiv:[0]}),type:M.DT_CODES.FULLY_INVIEW,rts:{0:C._onInViewFull},isInView:function(e){var t=ee.max(e.fullPercentInView||0,e.percentInView);return-1!==(M.IN_VIEW+"|"+M.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return t.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Dn=function(e,t){var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),a=function(e){var t=ee.max(e.fullPercentInView||0,e.percentInView);return-1!==(M.IN_VIEW+"|"+M.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new ke(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),U.getAggregator().provide("isFullyInViewProvider",{isFullyInView:a}),{timeInViewThresholds:n,type:M.DT_CODES.FULLY_INVIEW,isInView:a,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},Tn=function(){var e,t,n=!1;e=function(e){var t=[];return t.push(e.slice(0,8)),t.push(e.slice(8,12)),t.push(e.slice(12,16)),t.push(e.slice(16,20)),t.push(e.slice(20)),t.join("-")}(function(){var e="";try{for(var t,n=D.a.Uint32Array&&D.a.crypto&&D.a.crypto.getRandomValues;e.length<32;)n?(t=new Uint32Array(1),D.a.crypto.getRandomValues(t),e+=t[0].toString(16)):e+=(16*ee.random()|0).toString(16);e=e.slice(0,32)}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.UID_GENERATION)}return e}());var r=function(){return C.anId};return{getAsid:function(){return C.asid},getAnId:r,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return se.toBase(n,62)},getFwId:function(){return r()||C.advEntityId+"-"+C.pubEntityId},impressionIsIdentifiable:function(e){return e&&(n=!0),n},unq:e,getAvidIds:function(){return t},setAvidAdSessionContext:function(e){t=e}}},On=function(e){var t,n,r=!1,i=function(e){var i=!0;return r&&(r=!1,e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.cancelBubble=!0,t=e.screenX-e.clientX,n=e.screenY-e.clientY,i=!1),i};return e.browserIs(M.BROWSERS.IE)&&V.addEvent(ee.getDoc().documentElement,"click",i,!0),{determineFramePosition:function(){return e.browserIs(M.BROWSERS.IE)&&(r=!0,ee.getDoc().documentElement.click()),{scrX:t,scrY:n}}}},_n=function(e,t,n){var r=t.getAvidIds(),i=["id:"+C.asid,"c:"+t.getCacheBustId(),"sl:"+e,"em:"+Q.embedded,"fr:"+Q.friendly];return n.on("avidPropertiesInImpression")&&se.isDef(r)&&(i.push("abi:"+r.bundleIdentifier),i.push("apn:"+r.partner),i.push("apv:"+r.partnerVersion)),i},yn={PERF_MARK_MODULE_DEFINITION:"mm",PERF_MARK_MAIN_FUNCTION:"mf",PERF_MARK_CONTINUE_MAIN:"cm",PERF_MARK_INSTANTIATE_MODULES:"in",PERF_MARK_PRE_IMPRESSION:"pr",PERF_MARK_SEND_IMPRESSION:"si",PERF_MARK_POST_IMPRESSION:"po",PERF_MARK_PBLK:"bl",PERF_MARK_EVENT_LOOP_ONE:"lo",PERF_MARK_EVENT_LOOP_TWO:"lt",PERF_MARK_MAIN_SCRIPT_DOWNLOAD:"md",PERF_MARK_IMPRESSION_CALL_DOWNLOAD:"id"};D.a.globalConstants=yn;var wn,Nn=function(e,t,n,r,i,o,a){var s,u=[],d=U.getAggregator().request("mPage");return u.push("mn:"+C.mn),u.push("pt:"+function(){var t=a.stringifyPingTimes();return e.viewState!==M.NA&&(t+=e.details),t}()),u.push(se(o.params()).toParams()),n.on("mrcAudit")&&!Q.isDomless()&&u.push("dvs:"+ee.getDoc().visibilityState),i.iterate((function(e,t){var n=!t.props||se.isUndef(t.props.type),r=!t.props||t.props.type===M.IMPRESSION_EVENT;(n||r)&&u.push(e+":"+t.output())})),t.toString()&&u.push("e:"+t.toString()),u.push(n.output()),u.push("tt:"+C.mode),u.push("thd:"+se.stringifyTriState(d.supportsVisAPI())),u.push("et:"+(ee.now()-C.birthdate)),C.perf.mark("si"),n.on("swapids")?u.push("oid:"+C.oid):u.push("uid:"+r.unq),u.push("v:19.8.119"),u.push("sp:"+(C.isSplitMode?1:0)),u.push("fwm:"+("true"===C.fwMonitoring?1:0)),n.on("resolution")&&(u.push("wr:"+se(W.windowSize()).toArray().join(".")),u.push("sr:"+se(W.screenSize()).toArray().join("."))),"NotFound"!==(s=function(){var e,t=String(C.scriptUrl).toLowerCase(),n=t.indexOf("ias_xpc");if(n>-1){var r=t.substring(n+"ias_xpc".length+1),i=r.indexOf("&");e=i>-1?r.substring(0,i):r}else e="NotFound";return e||""}())&&u.push("x_xpc:"+s),u},Rn=function(e,t,n,r,i,o,a,s){var u,d,c,g,m;return function(n){var r=n.primary.join(","),o=t,a=0,s=function(t){return o.length+t.length+5<=e},u=function(e){if(e)return","+e};return s(r)&&(o+=u(r),i.impressionIsIdentifiable(!0),se(n.secondary).each((function(e,t){s(t)?o+=u(t):a+=1}))),o+=",ov:"+a}((g={viewState:M.NA},m=g,Q.isDomless()?m=s.checkScreenLoc(!0)||g:r.on("impFailSafe")?ee.getDoc().body&&(m=s.checkScreenLoc(!0)||g):se.isDef(ee.getDoc().body)&&(m=s.checkScreenLoc(!0)),s.isImmediatelyMeasurable()||s.requiresDelayedViewabilityEvent(),u=_n((c=m).viewState,i,r),d=Nn(c,n,r,i,o,a,s),U.getAggregator().trigger("eligiblerender"),{primary:u,secondary:d}))},Cn=function(e,t,n,r){var i,o,a=[],s=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},u=function(e){var i,o,s,u=e.val,d=e.key,c=(o=d,s="adsafe_url=".length+"&adsafe_type=".length+a.join("&").length+o.length+n,t-s);r&&c<u.length&&c>0&&(u=u.substr(0,c)),(u.length||""===e.val||""===e.type)&&function(e){var n=a.join("&").length;return e.length+n<=t}(i="adsafe_url="+u+"&adsafe_type="+d)&&a.push(i)};return e&&e.length&&(i=se(e).map((function(e,t){if(s(t))return t})),o=se(e).map((function(e,t){if(!s(t))return t})),se(i.concat(o)).each((function(e,t){u(t)}))),a},bn=function(e,t,n,r,i,o,a){var s=function(e,t){return isNaN(e)||e<0||""===e?t:e},u=function(e){return"&"===e.slice(-1)?"":"&"},d=function(d){var c,g,m=r.baseUrl,l=("number"==typeof(g=o.getDocumentMode())?(c=2e3,8===g?c=4e3:g>8&&(c=8e3)):c=s(C.sp_imp_maxLength,2e3),c);return Q.integratedBlockingApplies(m)&&(m=function(e){var t=U.getAggregator().request("mobileApp"),n=t&&t.isMobileAppEnvironment&&t.isMobileAppEnvironment(),r=e+"adContainerId="+C.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+C.contextNode.getAttribute("data-ias-callback");r=n?r.replace("monitoring","blocking"):r.replace("skeleton.js",C.integration+".js");var i=C.protocol+":"+C.staticServer+C.integration+"a.js",o=C.protocol+":"+C.staticServer+C.integration+".js";return r+"&true_pb="+encodeURIComponent(C.passback)+(n?"&redirectUrl="+encodeURIComponent(o):"")+(n?"&passback=":"&adsafe_pb=")+encodeURIComponent(i)+"&"}(m)),m=m.replace(M.UNIQUE_ID_TOKEN,C.asid),m+=function(n,r,i){var o,a=s(C.sp_imp_jsInfo_minLength,0),u="";try{(o=r-n-a)>0&&(u+=Cn(i,o,"adsafe_jsinfo=".length,t.on("partialUrls")).join("&"))}catch(t){e.add(M.ERROR_CODES.IMPRESSION_URLS)}return u}(m.length,l,d),m+=u(m),m+=function(r,s){var u="";try{u+=Rn(s-r,"adsafe_jsinfo=",e,t,n,i,o,a)}catch(t){e.add(M.ERROR_CODES.JSINFO),u+="adsafe_jsinfo=e:"+e.toString()}return u}(m.length,l),r.macroUrl&&(m+=u(m),m+=r.macroUrl),m};return{send:function(e){try{var t=d(e);r.sendImpression(t),C.impUrl=t,U.getAggregator().trigger("impressionsent")}catch(e){O("impsend",e,C)}}}},Mn=function(e,t){return{init:function(n){e.jsonp(n,(function(e){t.send(M.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},$n=function(e,t){var n,r=e||1,i=0,o=0,a=0;return{start:function(){i%r==0&&(n=ee.now())},stop:function(){var e=n||t;i%r==0&&(a+=ee.now()-e,o++),i++},getTime:function(){return a},getCount:function(){return o}}},Vn=function(){var e={},t=function(t){return!e[t]&&(e[t]=new $n(1,C.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),U.getAggregator().trigger("addThrottledProp","im",e,n.getTime())};return{start:function(){U.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},Pn=function(e,t,n,r,i){return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return i?function(){var n=U.getAggregator().request("adRenderStatus"),i=r||t,o=e.getTimeInViewInSeconds();n||U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"nr_"+i,o)}:function(){var i=e.getTimeInViewInSeconds(),o=e.getTimeInViewForRts();se.isDef(r)&&(U.getAggregator().trigger("addOutputItem",{output:r},"metricId",{type:t}),U.getAggregator().trigger("addOutputItem",{output:"t"},"cmr",{type:t})),U.getAggregator().trigger("sendDt",t,i),n[o]&&n[o]()}}}},xn=function(){return{createPingJobs:function(e,t,n,r,i){return se(t.getTimeThresholds()).map((function(t,o){return new Pn(o,e,n,r,i)}))}}},Fn=function(e){var t={};return{doEligibleJobs:function(n){se(e).each((function(e,r){var i=r&&r.getTime();se.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},Ln=function(){var e=function(){var e=C.asid;return"__IntegralAS_"+(e&&e.replace(/\-/g,"")||"")+"_"+ee.round(1e4*Math.random())};return{wrap:function(t,n,r,i){var o,a,s,u=e();return function(e,t){return new RegExp(t).test(e)}(t=""+t,i=i||"ias_callback")&&(a=(o=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(t,i)).split("=")[1],s=b.stringToFn(a),t=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(t,o)),D.a[u]=function(e){n(e),r&&s&&s(e),D.a[u]=void 0},t=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(t,i,u)},wrapToGlobal:function(t){var n=e();return D.a[n]=function(e){t(e),D.a[n]=void 0},n}}},Un=function(){return{start:function(e){U.getAggregator().on("measurable",(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(M.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},Gn=function(){return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},Wn=function(e,t){return{onAll:function(n){var r={};se(t).each((function(i,o){e.on(o,(function(){r[o]=1,se(r).keys().length===t.length&&(r={},n())}))}))}}},jn=function(){return{start:function(e){Wn(U.getAggregator(),["adImpression","measurable"]).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(M.BROWSERS.WEBKIT)||n)&&Q.isVideo()}}},Bn=function(){return{start:function(e){U.getAggregator().once("adImpression",(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&Q.isVideo()}}},kn=function(e,t,n){var r=!1,i=function(){t.impressionIsIdentifiable()&&!r&&(r=!0,U.getAggregator().trigger("notify",C._onMeasurable))};return{start:function(){var t,r=[Bn(),jn(),Gn(),Un()];(t=se(r).findFirst((function(t,r){return r.isApplicable(n,e)})))&&t.start(i)},isApplicable:function(e){return e.bootstrapOn("useViewabilityNotification")&&se.isDef(C._onMeasurable)}}},Hn={url:{STRINGIFIED_METHOD:"u",detect:function(e){if(Q.isDomless())return!1;var t=ee.getWindow().location.href,n=[t];try{n.push(top.location.href)}catch(e){}try{n.push(parent.location.href)}catch(e){}if(Q.embedded){try{n.push(parent.document.referrer)}catch(e){}try{n.push(document.referrer)}catch(e){}}try{"jsi"!==C.mode&&n.push(D.a.location.href)}catch(e){}try{n.push(C.jsref)}catch(e){}return n.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!se(e).findFirst((function(e,r){var i,o,a=!1,s="mobfox"===r?n:[t];for(o=0;o<s.length;o++){i=s[o];var u="string"==typeof r?[r]:r;if(se(u).isArray()){u[0].substring(0,4);if(u)for(var d=0;d<u.length&&!1!==(a=i.indexOf(u[d])>-1);d++);}}return a}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){return!Q.isDomless()&&!!se(e).findFirst((function(e,t){var n,r=!1,i=ee.getWindow();return se.isDef(i.navigator)&&se.isDef(i.navigator.userAgent)&&(r=(n=i.navigator.userAgent)&&-1!==n.indexOf(t)),r}))}},referer:{STRINGIFIED_METHOD:"r",detect:function(e){return!!se(e).findFirst((function(e,t){return"string"==typeof C.jsref&&C.jsref.indexOf(t)>-1}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){return!!se(e).findFirst((function(e,t){return se.isDef(b.stringToProp(t))}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){return!Q.isDomless()&&!!se(e).findFirst((function(e,t){return W.containsScriptTagWithSrc((function(e){return se.isDef(e)&&-1!==e.indexOf(t)}))}))}}},Yn=function(){var e=function(e,t){var n,r=Hn[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return se(t).map(e).join("")}}},qn=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"avid",detectionRules:{javascript:["avid.getAvidAdSessionContext"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{referer:["carsales"]}}],Kn=function(){var e,t=function(e,t){var n,r=Yn().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(e=(e=se(qn).map(t)).length>0?e[0]:"")&&C.hasOwnProperty("serverSideAppDetection")&&0!==C.serverSideAppDetection.length&&(e="s_serv"),e},hasDetectedMobileApp:function(){return void 0!==e&&""!==e}}},Xn=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],Jn=function(){var e=[],t=[],n=function(t,n){var r,i=Yn().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=se(Xn).map(n)).length>0&&U.getAggregator().trigger("addOutputItem",{output:function(){return e.join(".")}},"sdk",{type:"impression"}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&se.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},zn=function(e){var t=new Kn,n=new Jn,r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return function(){var i="",o=U.getAggregator().request("omidAdSessionContext"),a=Q.isDomless()||o&&"app"===o.environment,s=o&&"web"===o.environment;try{(a||Q.isAvid()||Q.isAvidNative()||!s&&e.bootstrapOn("mobOrTab")&&e.bootstrapOn("mobAppWebview")&&!function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0;break}return n}())&&(i=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==i&&"r_cars"!==i||(Xn[Xn.length-1].detectionRules.userAgent[0]="/"),n.detect(),U.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"}),U.getAggregator().trigger("addOutputItem",{output:i},"drul",{type:"impression"})))}catch(e){U.getAggregator().trigger("error",M.ERROR_CODES.MOBILE_APP)}}(),{isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}},Qn=function(e,t,n){var r=function(e,t){var n,r=e;return t&&(n=","+se(t).stringify((function(e,t){return e+":"+t}),","),(r=K(e,!0)).appendToParamValue("adsafe_jsinfo",n),r=r.toString()),r},i={jss:{isFW:!0,nodeType:"script"},rjss:{isFW:!0,nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(n){e.enabled?U.getAggregator().trigger("jsonp",n,e.callback,!0):U.getAggregator().trigger("send",n,(function(){U.getAggregator().trigger("sendDiag")}),!t.on("postMon"))}},bapi:{impressionMethod:function(t){var n=e.enabled?e.callback:se.noop,r=!!e.enabled;U.getAggregator().trigger("jsonp",t,n,r)}},jsapi:{isFW:!0,impressionMethod:function(t){var n=e.enabled?e.callback:se.noop,r=!!e.enabled;U.getAggregator().trigger("jsonp",t,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(n){U.getAggregator().on("adImpression",(function(i,o){var a;try{a=r(n,o),e.enabled?U.getAggregator().trigger("jsonp",a,e.callback,!0):U.getAggregator().trigger("send",a,se.noop,!t.on("postMon"))}catch(e){O("jsvidimp",e,C)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(e){var t="false"===C.fwMonitoring;t&&U.getAggregator().trigger("jsonp",function(e){var t;return(t=e.split("/"))[3]="db2",t[4]="video",t.join("/")}(e),(function(e){U.getAggregator().trigger("videoBlockResult",e)})),U.getAggregator().on("adImpression",(function(n,i){var o,a;try{t&&((a=n)&&se.isBool(a.integral_didBlock)&&a.integral_timeToDecision>=0)&&(e=function(t){var n="$1$2,abc:"+(t.integral_didBlock?1:0)+",abct:"+t.integral_timeToDecision;return e.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(n)),o=r(e,i),U.getAggregator().trigger("send",o,se.noop,!0)}catch(e){O("fwjsvidimp",e,C)}}))}},jspix:{nodeType:"img"}};return new function(){var e=i[C.mode],t=!!e.isFW,r=function(e){var t;return t=U.getAggregator().request("mobileApp").isMobileAppEnvironment()&&C.mobFwUrl?C.mobFwUrl:e?C.adsafeSrc:C.requrl,e||(t+="?"+C.reqquery),t}(t),o=r.indexOf("BEGIN__ADSAFE"),a=-1!==o,s=a?r.slice(o):"";return{isFW:t,baseUrl:a?r.slice(0,o):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(r),macroUrl:s,sendImpression:function(t){var r=function(){e.nodeType?U.getAggregator().trigger("addNode",e.nodeType,t):e.impressionMethod(t)};n||e.manualDefer?r():e.manualDefer||U.getAggregator().on("adImpression",(function(){r()}))}}}},Zn=function(e,t){var n,r,i,o=e.on("everySecond"),a=t.isVideo(),s=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],u=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],d=[2e3,5e3,15e3],c=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(M.IN_VIEW+"|"+M.PARTIAL_VIEW_PLUS).indexOf(e[n])};return o?(n=new ke({tiv:s}),r=s[0]):a?(n=new ke({tiv:d}),r=d[0]):(n=new ke({tiv:u}),r=u[0]),(i={5e3:C._onInViewMRC5,15e3:C._onInViewMRC15})[r]=C._onInViewMRC,{timeInViewThresholds:n,type:M.DT_CODES.PING,rts:i,isInView:c,isInViewIgnoringRender:function(e){return c(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},er=function(e){var t=0,n={},r=function(e,n,r){if(se.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=se.resolve(e.output);return this.props.asION&&(t=se(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=se(e.output).isObj()&&!i.asION,a=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?se(e.output).each((function(e,t){a({output:t},e,i)})):a(e,t,i)};return e.on("addOutputItem",(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),se.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}},tr=function(){var e,t,n,r,i=!1,o=!1,a=U.getAggregator().request("features"),s=new P,u=function(){return se.isDef(e.prop)?ee.getDoc()[e.prop]:null},d=function(){var e,t;return a.on("blur")?(t=ee.getWindow(),e=Q.friendly&&t.top.document&&(se.isFunction(t.top.document.hasFocus)||se(t.top.document.hasFocus).isObj())&&!t.top.document.hasFocus()||u()):e=u(),e};return t="hidden",n="visibilitychange",r=ee.getDoc(),se.isUndef(r.hidden)?se(["moz","ms","webkit"]).each((function(e,o){var a=o+"Hidden";se.isDef(r[a])&&(t=a,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:d,onHiddenChange:function(t){var n,r;s.push(t),o||(o=!0,n=ee.getWindow(),r=function(){s.run(d())},V.addEvent(n,"focus",r,!0),V.addEvent(n,"blur",r,!0),e.event&&V.addEvent(ee.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},nr=function(){return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},rr=function(){return{createInstance:function(){return Q.isDomless()?new nr:new tr}}},ir=function(e,t){var n,r=function(){var r,i=function(){var e=t.getWindow(),n=!1;if(se.isDef(e.navigator)&&se.isDef(e.navigator.userAgent)){e.navigator.userAgent;var r=e.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);if(null!==r&&2==r.length){var i=r[1].split("."),o=i[0];if(3==parseInt(o,10)){var a=i[1];if(parseInt(a,10)<=6)if(3==i.length){var s=i[2];parseInt(s,10)<=13&&(n=!0)}else n=!0}}}return n},o={};try{o.a=encodeURIComponent(top.location.href)}catch(e){}try{o.b=encodeURIComponent(parent.location.href)}catch(e){}if(Q.embedded){try{o.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{o.e=encodeURIComponent(D.a.document.referrer)}catch(e){}}try{"jsi"!==C.mode&&(o.d=encodeURIComponent(D.a.location.href))}catch(e){}try{o.f=encodeURIComponent(C.jsref)}catch(e){}try{r=function(){var e={};try{e.q=t.getWindow().parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(t){var n=t.message,r=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">"));se.isDef(r)&&i()&&(e.g=r)}return e}(),o.g=encodeURIComponent(r.g||""),o.q=encodeURIComponent(r.q||""),e.isStarted()&&!r.g&&e.getMyFrameDepth()>1&&(o.g=encodeURIComponent(e.getTopDomain()))}catch(e){}o=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],se.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(o=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];(""===n||"null"===n||"undefined"===n||null===n||se.isUndef(n))&&delete e[t]}return e}(o));var a=[];for(var s in o)o.hasOwnProperty(s)&&a.push({key:s,val:o[s]});return a.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),n=a,a};return{detectTopURL:r,getDetectedURLs:function(){return n||r()}}},or=function(){return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},ar=function(){return{createInstance:function(e,t){return Q.isDomless()?new or:new ir(e,t)}}},sr=function(e){var t={},n=e instanceof Array&&e.length>0;return n&&(se(e).each((function(e,n){var r;t[(r=n).getType()]=r})),U.getAggregator().on("perfCheckpoint",(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),U.getAggregator().provide("perfActive",(function(){return n})),{isActive:n}},ur={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){U.getAggregator().trigger("measureTime",ur.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){V.addEvent(D.a,"load",(function(){U.getAggregator().trigger("measureTime",ur.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){var e=new dn;e.onTick({4:function(){U.getAggregator().trigger("markTime",ur.IDS.IN_BROWSER_DELAY)},5:function(){U.getAggregator().trigger("measureTime",ur.IDS.IN_BROWSER_DELAY)}}),e.start()}},dr=ur,cr=function(e,t,n){var r={};return n&&se(n).map((function(n,i){var o,a;r[n]=(o=i,a=se.noop,t.bootstrapOn("useViewabilityNotification")&&(a=function(){e.skipAsFraudulent()||U.getAggregator().trigger("notify",o)}),a)})),{getCallbacks:function(){return r}}},gr=function(e){var t=e,n=function(e){var t=0,n=null,r=-1;function i(e){if(i=e,o=W.getNodeName(i),a=W.isNodeCreative(i)||"IFRAME"===o,o&&a&&!W.isEmptyTeadsFrame(e)){var t=W.getNodeArea(e);t>r&&(n=e,r=t)}var i,o,a}e.length&&U.getAggregator().request("useYieldSearch")?function r(){do{i(e[t]),t+=1}while(t%50!=0&&t<e.length);t<e.length?ee.execAtEndOfThread(r,0):U.getAggregator().trigger("creativeFinderBatchCompleted",n)}():function(){for(;t<e.length;t++){i(e[t])}U.getAggregator().trigger("creativeFinderBatchCompleted",n)}()};return{searchDescendants:function(e){var r=function(e){var n,r,i=[],o=t;for(n=0;n<o.length;n++){var a=o[n].toLowerCase(),s=e.getElementsByTagName&&e.getElementsByTagName(a);if(s&&s.length)for(r=0;r<s.length;r++)i.push(s[r])}return i}(e||C.contextNode.parentNode);n(r)}}},mr=function(){var e,t=["STYLE","SCRIPT","HEAD","META"],n=M.RENDER.CREATIVE_NODE_TYPES.concat(M.RENDER.CONTAINER_NODE_TYPES),r=0,i=C.useFIF&&Q.friendlyIframe||Q.isSpecifiedAd(),o=function(e){var t,n,i=e,o=e,a=Q.friendly?ee.getTop().document.body:C.contextNode.ownerDocument.body;for(;r<3;){if(a&&i===a){o=i,r=3;break}W.isWindow(i)&&(n=void 0,n="["+M.AD_IDENTIFIER+"-"+C.asid+"]",t=W.crossQuerySelector(n),i=se.isDef(t)?t:i),o=i=se.isDef(i)&&i.parentNode||i,r++}return o},a=function(e){var r=function(e){var r,i,o=[],a=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),s=a&&a.length;if(a)for(var u=0;u<s;u++)i=(r=a[u])&&r.nodeName&&r.nodeName.toUpperCase(),!r.children||0!==r.children.length||se(n).contains(i)||se(t).contains(i)||se(o).contains(i)||o.push(i);return o}(e);return n.concat(r)},s=function(e){var t=i?o(e):e;return W.isWindow(t)?function(e){var t;try{t=e.document}catch(e){t=C.contextNode.ownerDocument}return t}(t):"IFRAME"===W.getNodeName(t)?e.contentWindow.document:t},u=function(t){var n=W.isNodeXDomainIframe(t)||W.isNodeCreative(t),r=!t;if(e=r?C.contextNode.parentNode:t,n||r)U.getAggregator().trigger("evaluateCreativeFinderResult",t);else{var i=s(t),o=a(i);new gr(o).searchDescendants(i)}};return U.getAggregator().on("creativeFinderBatchCompleted",u),{find:u,getClosestContainerName:function(){return W.getNodeName(e)}}},lr=function(e){var t,n=!1,r=!1,i="1",o="0",a=function(){n=!0,u()},s=function(e){t=e,u()},u=function(){U.getAggregator().trigger("addOutputItem",{output:!t&&n?i:o},"rmeas"),t&&t.message&&!r&&(O("renderloop",t,C),U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"rle",1),r=!0)};U.getAggregator().on("eligiblerender",a),U.getAggregator().on("renderdiag",s),u()},fr=function(){var e=[],t=[],n=function(e){var t;if(W.isWindow(e))t="WINDOW";else if(W.isNodeXDomainIframe(e))t="XIFRAME";else try{t=W.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return se(t).each((function(e,t){n.push(t)})),se(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&W.getRect(e),a=e&&"IMG"===i,s=e&&W.hasBackgroundImage(e),u=e&&e.children&&0===e.children.length,d=e&&e.innerText&&e.innerText.length>0,c=u&&d,g=o&&o.width>=M.RENDER.WIDTH_THRESHOLD&&o.height>=M.RENDER.HEIGHT_THRESHOLD?M.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:M.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE,m=(s||a)&&(0===e.naturalWidth||0===e.naturalHeight);t.push(i),t.push(g),m&&t.push(M.RENDER.DIAGNOSTIC.BROKEN_IMAGE),s&&t.push(M.RENDER.DIAGNOSTIC.STYLED_NODE),c&&t.push(M.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},pr=function(){var e,t=!1,n=!1,r=!1,i={status:M.RENDER.STATUS.OTHER,details:M.RENDER.DETAILS.OTHER},o={status:M.RENDER.STATUS.DETECTED,details:M.RENDER.DETAILS.ENVIRONMENT},a=U.getAggregator().request("omidAdSessionContext"),s=function(){t=!0,r=!0},u=function(e){e&&(e.status=M.RENDER.STATUS.DETECTED),U.getAggregator().trigger("adRendered")},d=function(e){e===M.RENDER.STATUS.DETECTED&&U.getAggregator().trigger("perfCheckpoint",{type:M.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:ee.now(),code:M.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE})},c=function(n){var r=e.build(),o=n.status||i.status,a=r||i.details;t&&o===M.RENDER.STATUS.DETECTED?function(e,t){d(e),U.getAggregator().trigger("addThrottledOutputItem","rend",e),U.getAggregator().trigger("addThrottledOutputItem","renddet",t)}(o,a):function(e,t){d(e),U.getAggregator().trigger("addOutputItem",{output:e},"rend"),U.getAggregator().trigger("addOutputItem",{output:t},"renddet")}(o,a)},g=function(){U.getAggregator().on("primaryadfound",(function(t){var n,r=i,o=new mr,a=!0,s=function(){n?ee.clearInterval(n):a=!1};U.getAggregator().on("evaluateCreativeFinderResult",(function(t){var n,i,a,d,g,m;W.isNodeXDomainIframe(t)?(s(),i=t,a={},d=ee.getDoc(),g="complete"===d.readyState,m=function(t){var n=t&&t.type;("readystatechange"===n&&"complete"===t.target.readyState||"load"===n)&&(u(a),e.saveNode(i),"readystatechange"===n?e.save(M.RENDER.DIAGNOSTIC.DOCUMENT_READY):"load"===n&&e.save(M.RENDER.DIAGNOSTIC.LOAD_FIRED),c(a),V.removeEvent(i,"load",m),V.removeEvent(d,"readystatechange",m))},g?(u(a),e.saveNode(i),e.save(M.RENDER.DIAGNOSTIC.DOCUMENT_READY)):(V.addEvent(i,"load",m),V.addEvent(d,"readystatechange",m)),r=a):t?(function(e){var t=!1,n=W.getRect(e);return e&&"IMG"===W.getNodeName(e)&&(t=0===e.naturalWidth||0===e.naturalHeight),!t&&n.width>=M.RENDER.WIDTH_THRESHOLD&&n.height>=M.RENDER.HEIGHT_THRESHOLD}(t)&&(u(r),s()),e.saveNode(t)):(n=o.getClosestContainerName()||e.getAdNodeName(t)||r.details,e.save(n)),c(r)}));var d,g,m,l,f=function(){var e=t&&t.getAdNode();try{o.find(e)}catch(e){U.getAggregator().trigger("renderdiag",e)}},p=U.getAggregator().request("mobileApp");p&&p.isMobileAppEnvironment&&p.isMobileAppEnvironment()&&Q.isMraid()?(d=ee.getWindow().mraid,g=d&&d.getState&&d.getState(),m=i,l=function(){V.removeEvent(d,"ready",l),e.save(M.RENDER.DETAILS.ENVIRONMENT),e.save(M.RENDER.DIAGNOSTIC.MRAID_READY),u(),c({status:M.RENDER.STATUS.DETECTED})},e.save(M.RENDER.DETAILS.ENVIRONMENT),"default"===g?(u(),e.save(M.RENDER.DIAGNOSTIC.MRAID_DEFAULT),m.status=M.RENDER.STATUS.DETECTED):"loading"===g?(V.addEvent(d,"ready",l),e.save(M.RENDER.DIAGNOSTIC.MRAID_LOADING)):(V.addEvent(d,"ready",l),e.save(M.RENDER.DIAGNOSTIC.MRAID_UNKNOWN)),c(m)):(f(),a&&(n=ee.setInterval(f,500))),U.getAggregator().trigger("eligiblerender")}))},m=function(){var t=a&&!!a.isVideo,r=a&&!!a.videoStartArrived,i=a&&!!a.geometryArrived;return!(n||!i||t&&!r)&&(U.getAggregator().trigger("eligiblerender"),e.save(M.RENDER.DETAILS.ENVIRONMENT),e.save(M.RENDER.DIAGNOSTIC.OMID_RENDERED),u(),c(o),n=!0,!0)};return{start:function(){var t,n=!1;U.getAggregator().trigger("perfCheckpoint",{type:M.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:ee.now(),code:"initial"}),U.getAggregator().on("adRendered",(function(){n=!0})),U.getAggregator().provide("adRenderStatus",(function(){return n})),U.getAggregator().provide("useYieldSearch",(function(){return r})),e=new fr,new lr,U.getAggregator().on("impressionsent",s),t=!1,Q.isOmid()&&a&&a.useOMID13Logic&&(t=!0),t?m()||(e.save(M.RENDER.DETAILS.ENVIRONMENT),e.save(M.RENDER.DIAGNOSTIC.OMID_UNRENDERED),c(i),U.getAggregator().on("omidrendgeoupdate",(function(){m()})),U.getAggregator().on("omidrendvideostart",(function(){m()}))):Q.isAvid()||Q.isOmid()||Q.isVideo()?(U.getAggregator().trigger("eligiblerender"),e.save(o.details),u(),c(o)):(c(i),g())}}},vr=function(e){var t=!1;return{measure:function(n){(t=0===n.rsa)&&e.trigger("notify",C._onSuspicious)},skipAsFraudulent:function(){return t}}},Er=function(e){e=e||se.identity;var t=[],n=ee.now(),r=function(){var e=ee.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}},hr=function(){var e,t,n,r=[],i={},o={sl:"n"},a=0,s={i:0,o:0,n:0,pp:0,pm:0},u=function(e,t){var n=new Er(t);return i[e]=n,n},d=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},c=function(){se(o).each((function(e,t){var i=r.length?n-a:n;s[t]+=i})),a=n},g=function(e){r.length&&c(),se(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(s[n]+=s.n),o[e]=t})),r.length||c()},m=function(e){M.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},a=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;se.isDef(r)&&r.hasValidDims()&&(n.wc=r),se.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions);return se({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];se.isDef(i)&&(n[t]=i)})),""===(t=se(n).toParams())?"":","+t}(e),s={sl:d(e.viewState)};return n=Q.getTagTime(),g(s),s.t=n,r=se({toString:function(){return se(i).each((function(e,t){t.fastForward()})),"{"+se(s).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+se(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+se(this.as).stringify(t)+"]")+"}"}}}).mixin(s),se(r).mixin(e),r.width=o.width,r.height=o.height,se.isUndef(r.percentInView)&&(r.percentInView=M.PIV_NA),se.isUndef(r.reason)&&(r.reason=""),t=r,r};return u("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(se(r).each((function(e,i){se.isUndef(t)&&n<i&&(t=r[e-1])})),se.isUndef(t)&&(t=r[r.length-1])),t})),u("as",(function(e){var t=M.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height})),{fastForward:function(){n=Q.getTagTime(),c()},registerLocation:function(t){var n,a=!1;return o.sl==d(t.viewState)&&r.length?(n=new m(t),r[r.length-1].details=n.details):(n=new m(t),r.push(n),e=t.viewState,a=!0),U.getAggregator().trigger("newScreenEvent",n),se(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(a&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=se({slTimes:"{"+se(s).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:u,getCurrentLoc:function(){return d(e)},getCurrentEvent:function(){return t}}},Ir=function(e,t,n,r){var i,o=function(e,t){return{viewState:M.NA,posViewState:M.NA,embedded:Q.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),a=t.getOutOfViewReasons(),s=n.isHidden(),u=r.isDeviceTypeGroupMobile()&&i?i:k(W.calcWinDims()),d=t.getDims();return i=u,t.hasAd()&&u.hasValidDims()&&d.hasValidDims()?(!0===s&&a.push(M.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:u,adDimensions:d,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:a.length?M.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:a.join("."),obstructed:se.stringifyTriState(t.isObstructed()),isHidden:se.stringifyTriState(t.isHidden()),tabHidden:se.stringifyTriState(s),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(u,d)}}},Ar=function(){return{collect:function(){return{}}}},Sr=function(){return{createInstance:function(e,t,n,r){return Q.isDomless()?new Ar:new Ir(e,t,n,r)}}},Dr=function(e,t){var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),se(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return se(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},Tr=function(){var e=M.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new Dr(M.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},Or=function(){var e=M.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new Dr(M.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},_r=function(){var e=M.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new Dr(M.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},yr=function(){var e=M.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT;return new Dr(M.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)},wr=function(){function e(){}return e.build=function(){var e=[];e.push(yr());var t,n=(t=U.getAggregator().request("vc"))?{jv3:_r,av3:_r,jvw:Or,avw:Tr}[t]:void 0;return n&&e.push(n()),e},e}(),Nr=function(e,t,n,r){var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}},Rr=function(e){var t,n=0,r=Q.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=Q.getTagTime(),o=!1},mark:function(){t=o?Q.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=Q.getTagTime(),o=!0}}},Cr=function(e,t,n,r){var i,o,a,s,u,d,c=function(e,t){return!t&&e},g=function(e,t,n,r){return!!r||!t&&(e||r)&&n},m=function(e){var c,m=0,f=1===e.tabHidden,p=e.isVideoPlaying,v=e.isSoundOn,E=e.isVideoPlayingInFullscreen;se(e.sliceStatus).each((function(e,t){a(t,f,p,E)?i[e].mark():i[e].stop(),s[e]=i[e].getTotalTime()})),l("slcVt",s),r&&(se(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return g(e,t,n,r)&&i}(t,f,p,E,v)?o[e].stop():o[e].mark(),u[e]=o[e].getTotalTime()})),l("slcVtVol",u)),d=r&&t&&t.shouldIncludeSound?u:s,c=se(d).findFirst((function(e,t){return m=Math.max(m,t),t<=0})),se.isUndef(c)&&n.doEligibleJobs(m)},l=function(e,t){var n={};n[e]=t,U.getAggregator().trigger("addOutputItem",{output:n},{minDt:!1})},f=function(e){se.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],s=[],u=[],se(e.sliceStatus).each((function(e){i.push(new Rr(1)),s.push(0),r&&(o.push(new Rr(1)),u.push(0))})))}(e),m(e))};return{start:function(){a=r?g:c,e.addMeasurementChangedListener(f)}}},br=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-C.birthdate||""}},r=function(){e||(e=U.getAggregator().request("viewabilityDefinitions")),e&&0==t.length&&se(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){U.getAggregator().trigger("addOutputItem",{output:e.metricId},"metricId",{type:M.DT_CODES.CUSTOM}),U.getAggregator().trigger("addOutputItem",{output:"q"},"cmr",{type:M.DT_CODES.CUSTOM}),U.getAggregator().trigger("sendDt",M.DT_CODES.CUSTOM,t),e.rtsCallbacks&&se.isFunction(e.rtsCallbacks[M.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[M.RTS_KEY_FOR_VQ]()};return{init:function(){r(),U.getAggregator().on("videoQuartileEvent",(function(e){var o,a,s,u,d;r(),o=new n(e),s=(a=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(se(a).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),u=U.getAggregator().request("mScreenEvents").getCurrentEvent(),d=Math.floor(o.time/1e3),se(t).each((function(e,t){var n=t.qivThreshold.indexOf(s);-1!==n&&t.isInView(u)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,d))}))}))}}},Mr=function(){return{listenForResult:function(){U.getAggregator().on("videoBlockResult",(function(e){var t=U.getAggregator().request("adNode"),n=!1,r="blockAd"+C.videoId;"failed"===e.action&&(n=!0),t&&se.isDef(t.blockAd)?t.blockAd(n):t&&se.isDef(t[r])&&t[r](n)}))}}},$r=function(){var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}},Vr=function(e,t){var n,r,i,o,a,s=U.getAggregator().request("videoTranslator");return i=s.translate(e.messageType),o=function(e){var t=e.eventData||{},n=se({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n}(e),a=function(e){var t,n=e.eventData&&e.eventData.ext_passthrough;return n&&(t=se(n).mapToObj((function(e,t){var n={};return n["x_"+e]=t,n}))),t}(e),r={t:e.time-C.birthdate,tp:i,sl:t},se(r).mixin(o),se(r).mixin(a),n=se({indicatesPlaying:function(){return-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(i)},indicatesNotPlaying:function(){return-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(i)},indicatesFullscreen:function(){var e=ee.getWindow();return!("resizeAd"!==i&&"initAd"!==i||"fullscreen"!==o.viewMode&&o.width!==e.screen.width)},indicatesNormalSize:function(){return"resizeAd"===i&&"normal"===o.viewMode},indicatesQuartile:function(){return-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(i)},indicatesCompletion:function(){return-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(i)},getVolume:function(e){return e.getVolumeFromContext(o)},updateScreenLoc:function(e){r.sl=e,n.sl=e},trigger:function(){"adImpression"===i?U.getAggregator().persistentTrigger(i,o,a):U.getAggregator().trigger(i,o,a)},toString:function(){return"{"+se(r).toParams()+"}"}}).mixin(r)},Pr=function(){var e=[];return{registerEvent:function(t,n,r){var i=new Vr(t,n,r);return e.push(i),i},toString:function(){return"{"+se({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}"},isEmpty:function(){return 0===e.length}}},xr=function(){return{getVolumeFromContext:function(e){var t,n=-1;return se.isDef(e)&&(se.isDef(e.volume)?n=e.volume:se.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}},Fr=function(){var e,t,n,r=function(r){n=se.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&U.getAggregator().trigger("sendDt",M.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},a=function(e){var t=(new xr).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){U.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:a,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=U.getAggregator().request("isFullyInViewProvider");return!t||n&&n.isFullyInView(e)}))}}},Lr=function(e,t,n){var r,i,o,a="IASid"+e,s="getIasVidBridgeVersion"+e,u=[],d=M.OUT_OF_VIEW,c=!1,g=!1,m=!1,l=!0,f=new Pr,p=Fr(),v=new Mr,E=new xr,h=new br,I=function(e){var t;return c=!0,t=A(e),u.push(t),o&&_(),t},A=function(t){var r,i,o={};try{o=JSON.parse(unescape(t&&t.data?t.data:t))}catch(e){o={}}return o.id==e&&((r=f.registerEvent(o,n.getCurrentLoc())).indicatesPlaying()?(g=!0,d=!!m&&M.IN_VIEW):r.indicatesNotPlaying()?(g=!1,d=M.OUT_OF_VIEW):r.indicatesFullscreen()?(m=!0,d=g?M.IN_VIEW:M.OUT_OF_VIEW):r.indicatesNormalSize()&&(m=!1,d=!g&&M.OUT_OF_VIEW),(i=parseFloat(r.getVolume(E)))>0?l=!0:0===i&&(l=!1)),r},S=function(){return r||(se(["*[data-integralas-vid-"+e+"]",".integral-vid-"+e,"ias-ad","object","embed"]).findFirst((function(e,t){var n=ee.getDoc().querySelectorAll(t);return r=function(e){return se(se(e).toArray()).findFirst((function(e,t){return se.isFunction(t[a])}))}(n)})),!r&&t.on("novidnodeerr")&&O("novidnode",{},C)),r},D=function(){var t=S();return t&&!c&&function(t){var n,r,i=Ln().wrapToGlobal(I);try{r=t[s]||t.getIasVidBridgeVersion,n=se.isFunction(r)&&"2"===r.call(t)?unescape(t[a].call(t,e,i)):unescape(t[a].call(t,e)),c=!0,function(e){se.isStr(e)&&(U.getAggregator().provide("vc",(function(){return e})),U.getAggregator().trigger("addOutputItem",{output:e},"vc",{type:"impression"}))}(n||"n")}catch(e){O("handshakefailure",e,C)}}(t),t},T=function(e){var t=E.getVolumeFromContext(e);l=!!se.isDef(t)&&t>0},_=function(){h.init(),se(u).each((function(e,t){t&&(se.isUndef(t.sl)&&t.updateScreenLoc(n.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&U.getAggregator().trigger("adSessionComplete"),t.indicatesQuartile()&&("adVideoComplete"!==t.tp&&U.getAggregator().trigger("sendDt",M.DT_CODES.VIDEO_EVENTS),U.getAggregator().trigger("videoQuartileEvent",t)))})),u=[],o=!0},y=function(){return m&&g};return V.addEvent(ee.getWindow(),"message",(function(e){I(e)})),U.getAggregator().on({volumeChanged:T}),U.getAggregator().provide({videoEventsString:f,videoVersion:function(){var e,t=D();try{e=t.getVersion()}catch(t){e=-1,U.getAggregator().trigger("error",M.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return i=i||new $r},adNode:D}),D(),v.listenForResult(),p.isApplicable(Q)&&p.start(n),{findAdNode:D,getViewStateOverride:function(){return d},isHandshakeComplete:function(){return c},triggerInitializationEvents:_,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===M.NA;if(e.isVideoPlaying=!0,e.isSoundOn=l,e.isVideoPlayingInFullscreen=!1,d){if(d===M.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=M.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:d,e.isVideoPlaying=d===M.IN_VIEW}y()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}},Ur=function(e,t,n,r,i,o,a,s,u,d){var c=!1,g=Q.isVideo(),m=o.request("mobileApp"),l=Re().applies(n,i),f=n.browserIs(M.BROWSERS.GECKO)||n.browserIs(M.BROWSERS.IE)&&i.on("rattie")||l,p=Q.xDomainIframe&&!f,v=new $n(10),E=function(){i.on("viewabilityready")&&!c&&(r.send(M.DT_CODES.VIEWABILITY_READY),o.trigger("measurable"),c=!0)};o.on("delayedViewabilityReady",(function(){h(),E()})),o.on("delayedViewabilityReadyCallOnly",E);var h=function(n){n=n||!1;try{var r,i;v.start(),t.hasMeasurementStrategy()?i=m.isMobileAppEnvironment()&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(s.collect(),n):(i=s.collect(),m.isMobileAppEnvironment()?(i.viewState=M.NA,i.method=M.NA,i.percentInView=M.NA):p&&(i.viewState=M.NA,i.percentInView=M.PIV_NA),g&&!Q.isAvid()&&d.setVideoSpecificScreenEventFields(i)),r=u.registerLocation(i),n||e.trigger("measurementChanged",i),v.stop();var c=ee.round(v.getTime()/v.getCount());return a.addItem({output:c},"lt",{type:M.DT_CODES.UNLOAD}),r}catch(e){o.trigger("error",M.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:h,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":g?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=Q.xDomainIframe,r=e&&n.browserIs(M.BROWSERS.WEBKIT),i=e&&n.browserIs(M.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&l);return m.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){m.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on("measurementChanged",t)}}},Gr=function(e,t,n){return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},Wr=function(){var e=U.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&!e.isNative}}},jr=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=se.isDef(se(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(M.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},Br=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=se.isDef(se(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(M.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){e.addEventListener("start",(function(e){U.getAggregator().trigger("adImpression")}))}}},kr=function(e,t){var n=U.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=new kt,a=function(){var e=ee.getDoc().getElementById("iasbi"+C.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(s(r),r=null)):ee.setTimeout(a,50)},s=function(e){if(e&&e.data&&e.data.adView){var s=e.data.adView,d=!!(s.measuringElement&&s.containerGeometry&&s.onScreenContainerGeometry);if(n.delayingViewabilityEvents)r=e,i||(i=!0,a());else{d&&s.onScreenGeometry.obstructions&&s.onScreenGeometry.obstructions.length>0&&(s.onScreenContainerGeometry.obstructions=s.onScreenGeometry.obstructions);var c=new k(e.data.viewport||{width:0,height:0}),g=new k(s[d?"containerGeometry":"geometry"]||{x:0,y:0,width:0,height:0}),m=new k(s["onScreen"+(d?"Container":"")+"Geometry"]||{x:0,y:0,width:0,height:0}),l={viewport:c.getRoundedGeometry(),originalAdContainer:g.getRoundedGeometry(),computedAdContainer:m.getRoundedGeometry(),percentageInView:s.percentageInView,detectionMethod:M.DETECTION_METHODS.OMID,outOfViewReason:u(s.reasons)};void 0===n.geometryArrived&&o.checkForViewAttachmentBasedOnAdSessionType(n,e.data.adView)&&(n.geometryArrived=!0,U.getAggregator().trigger("omidrendgeoupdate")),t.trigger(M.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,l)}}},u=function(e){var t={inactive:M.OUT_OF_VIEW_REASONS.FOCUS,viewport:M.OUT_OF_VIEW_REASONS.GEOM,clipped:M.OUT_OF_VIEW_REASONS.GEOM,obstructed:M.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:M.OUT_OF_VIEW_REASONS.FOCUS,notFound:M.OUT_OF_VIEW_REASONS.HIDDEN,hidden:M.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(se(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&s(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",s)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(M.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:u}},Hr=function(e,t){var n=U.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=new kt,a=function(){var e=ee.getDoc().getElementById("iasbi"+C.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(s(r),r=null)):ee.setTimeout(a,50)},s=function(e){if(e&&e.data&&e.data.adView)if(n.delayingViewabilityEvents)r=e,i||(i=!0,a());else{var s=e.data.adView.geometry,u=e.data.adView.containerGeometry,d=!!s,c=e.data.adView.measuringElement&&!!u,g=new k({x:d&&c?s.x-u.x:0,y:d&&c?s.y-u.y:0,width:d?s.width:0,height:d?s.height:0}).getRoundedGeometry();g,void 0===n.geometryArrived&&o.checkForViewAttachmentBasedOnAdSessionType(n,e.data.adView)&&(n.geometryArrived=!0,U.getAggregator().trigger("omidrendgeoupdate")),t.trigger(M.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:g,adFound:d})}};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&s(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",s)},addAdGeometryMeasurementChangedListener:function(e){t.on(M.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Yr=function(e,t){var n=[],r=(new Date).getTime(),i=0,o=0,a=!1,s=new br,u=U.getAggregator().request("omidAdSessionContext"),d={isEmpty:function(){return 0===n.length},toString:function(){for(var e="{vEventCount:"+n.length+",vEvents:[",t=0;t<n.length;t++){var r=n[t];e+=(t>0?",{":"{")+"t:"+r.t+",tp:"+r.tp+",sl:"+r.sl+",ad_duration:"+r.ad_duration+",volume:"+r.volume+"}"}return e+="]}"}},c=function(){a=!0},g=function(e){try{var s,d="",c=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),g="n",m=!1;switch(e.type){case"start":d="adVideoStart",u.videoStartArrived=!0,U.getAggregator().trigger("omidrendvideostart"),r=c,(o=e.data.duration)>1e3&&(o/=1e3),i=e.data.videoPlayerVolume;break;case"volumeChange":d="volumeChanged",i=e.data.videoPlayerVolume;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":d="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),m=!0,U.getAggregator().trigger("videoQuartileEvent",e);break;case"pause":case"bufferStart":d="pauseAd";break;case"resume":case"bufferFinish":d="resumeAd";break;case"skipped":d="adSkipped"}if(""!==d){var l=U.getAggregator().request("mScreenEvents");l&&(g=l.getCurrentLoc()),n.push({t:c-r,tp:d,sl:g,ad_duration:o,volume:i})}if("loaded"===e.type&&se.isDef(e.data)){var f=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),p=-1!==f?f+1:void 0,v=!0===e.data.autoPlay?"autoplayed":"clicktoplay";!0===a?(se.isDef(p)&&U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"vbp",p),U.getAggregator().trigger("addThrottledProp",M.DT_SLOT.ENVIRONMENT,"vps",v)):(se.isDef(p)&&U.getAggregator().trigger("addOutputItem",{output:p},"vbp",{type:M.IMPRESSION_EVENT}),U.getAggregator().trigger("addOutputItem",{output:v},"vps",{type:M.IMPRESSION_EVENT}))}"start"===e.type&&U.getAggregator().trigger("omidAdDuration",{ad_duration:o}),"playerStateChange"===e.type?s="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!=="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(e.type)?s="AdPlaying":-1!=="complete|pause|bufferStart|skipped".indexOf(e.type)&&(s="AdPaused"),se.isDef(s)&&t.trigger("videoPlaybackEvent",{eventType:s,eventData:null}),m&&U.getAggregator().trigger("sendDt",M.DT_CODES.VIDEO_EVENTS)}catch(e){O("omidvideo",e,D.a.bootstrapper)}};return{start:function(){U.getAggregator().on("impressionsent",c),U.getAggregator().provide({omidVideoEventsString:d}),e.addEventListener("video",g),s.init()},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},qr=function(e,t,n){var r;var i=function(){var t,i,o,a=e.find(),s=!1;se.isDef(a)?(o=!0,t={x:(i=a.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},a.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(s=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!se.isDef(r)||!1!==se(e).compareTo(r)}(t)||s)&&(r=t,n.trigger(M.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(M.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Kr=function(e){return{resolve:function(){var t=se(e).findFirst((function(e,t){return t.environment.accepts()}));if(se.isDef(t))return t}}},Xr=function(e,t,n){var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){return{x:e.x+t.x,y:e.y+t.y,width:t.width,height:t.height}},a=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function s(e,t,n){var r=a(t,n),o=i(e,t,r);return o.width*o.height}var u=function(e){return d(e)?M.IN_VIEW:M.OUT_OF_VIEW},d=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,c){if(se.isDef(r)&&se.isDef(c)){var g,m=r.viewport,l=r.computedAdContainer,f=l.obstructions,p=f&&f.length>0,v=r.originalAdContainer,E=c.adGeometry,h=c.adFound,I=r.detectionMethod,A=0,S={x:0,y:0,width:m.width,height:m.height},D=o(v,E),T=r.outOfViewReason,O=0,_=0,y=p||!1,w=E.width*E.height<=1;return n&&w&&(T=function(e,t){var n=e||"";return t||-1!==n.indexOf(M.OUT_OF_VIEW_REASONS.GEOM)||(n=M.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(T,h=!1)),h&&r.percentageInView>0?(O=s(S,l,D),_=p?function(t,n,r,s){var u=a(n,r),d=i(t,n,u),c=o(n,d);return e.calculateObstructedArea(c,s)}(S,l,D,f):0,A=Math.round((O-_)/(D.width*D.height)*100),p&&0===_&&(y=!1),g=function(n,r,i,o){var a,u,d,c,g=0,m=t.getConfig(i).numberOfSlices,l=ee.floor(i.height/m)||1,f=[],p=o?e.getObstructionStatusBySlice(m):[];for(g=0;g<m;g++)c=i.y+l*g,g==m-1&&(l=i.y+i.height-c),u=s(n,r,a={x:i.x,y:c,width:i.width,height:l})/(a.width*a.height)==1,f.push(u);if(o)for(d=ee.min(p.length,m),g=0;g<d;g++)f[g]=f[g]&&!p[g];return f}(S,l,new k(D).getRoundedGeometry(),y)):g=t.getConfig(E).defaultSliceArray,{windowDimensions:S,containerDimensions:v,adDimensions:D,percentageInView:A,viewState:u(A),outOfViewReason:d(A)?"":T||M.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:I,isObstructed:y,sliceStatus:g}}}}},Jr=function(e){var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,a=r+n.width,s=i+n.height,u=Math.round(r);u<Math.round(a);u++)for(var d=Math.round(i);d<Math.round(s);d++)void 0!==e.matrix[u]&&void 0===e.matrix[u][d]&&(e.matrix[u][d]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},a=function(e,t,n){return e+(t-n)},s=function(e,t,n,r){return e==t||n===r-1},u=function(t){if(se.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,u=e.getConfig({height:i}).numberOfSlices,d=ee.floor(i/u)||1,c=[],g=0;g<i;g++){r=!1;for(var m=0;m<o;m++)if(1===t.matrix[m][g]){r=!0;break}n++,r&&(g=a(g,d,n),n=d),s(n,d,g,i)&&(c.push(r),n=0,r=!1)}return c};return{calculateObstructedArea:function(e,o){var a,s=o&&o.length>0,d=s?i(e):{},c=0,g=0;if(s){for(;c<o.length;c++)a=o[c],d=r(d,a);g=d.obscuredPixelCount,t=u(d)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},zr=function(e,t,n,r){var i,o,a,s=function(){if(se.isDef(i)&&se.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,a=!0,n.trigger("geometryMeasurementChanged",e)}},u=function(e){i=e,s()},d=function(e){o=e,s()};return{start:function(){U.getAggregator().trigger("addOutputItem",{output:M.MEDIA_TYPE.DISPLAY_CODE},M.MEDIA_TYPE_CODE,{type:M.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(u),e.start(),t.addAdGeometryMeasurementChangedListener(d),t.start()},addMeasurementChangedListener:function(e){n.on("geometryMeasurementChanged",e)},getStrategyName:function(){return M.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return a}}},Qr=function(e,t,n,r,i){var o,a,s,u,d,c=!1,g=!1,m=function(){if(!(se.isUndef(a)||se.isUndef(s)||se.isUndef(u))){d=!0;var e=i.calculateGeometricMeasurement(a,s),t=c&&g,n=c&&e.percentageInView>=50,m={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:c,isVideoPlayingInFullscreen:t,isSoundOn:!0};t&&(m.percentageInView=100),t||n?m.viewState=M.IN_VIEW:(m.viewState=M.OUT_OF_VIEW,m.outOfViewReason=e.outOfViewReason||M.OUT_OF_VIEW_REASONS.VIDEO),o=m,r.trigger("videoGeometryMeasurementChanged",o)}},l=function(e){a=e,m()},f=function(e){s=e,m()},p=function(e){u=e;var t=e.eventType;"AdEnteredFullscreen"===t?g=!0:"AdExitedFullscreen"===t?g=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(c=!1),m()};return{start:function(){U.getAggregator().trigger("addOutputItem",{output:M.MEDIA_TYPE.VIDEO_CODE},M.MEDIA_TYPE_CODE,{type:M.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(l),e.start(),t.addAdGeometryMeasurementChangedListener(f),t.start(),n.addVideoPlaybackEventListener(p),n.start()},getStrategyName:function(){return M.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on("videoGeometryMeasurementChanged",e)},isMeasurable:function(){return d}}},Zr=function(e){return{accepts:function(){return e.isAvidAvailable()},getAvidAdSessionContext:function(){return e.getAvidAdSessionContext()},isMediaType:function(t){var n,r=e.getAvidAdSessionContext();return e.isAvidAvailable()&&se.isDef(r)&&(n=r.mediaType||M.MEDIA_TYPE.DISPLAY),t===n},supportsAdContainerGeometry:function(){var t,n,r,i,o=!1,a=e.getAvidAdSessionContext();return se.isDef(a)&&(o=function(e){return se.isUndef(e)}(t=a.avidJsVersion)||(n=t,r=se.getNum(n.split(".")[0]),i=se.getNum(n.split(".")[1]),2===r?i>=7:r>=3)),o}}},ei=function(e,t,n){var r=["rjss","jss","jload"],i=function(){var t=!1,n=e.getAvidAdSessionContext();return se.isDef(n)&&(t=n.isDeferred),!t};return{accepts:function(){var e=se.isDef(se(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(M.MEDIA_TYPE.DISPLAY)&&e},isImmediate:i,isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){i()||e.addEventListener("ready",(function(){U.getAggregator().trigger("adImpression")}))}}},ti=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=se.isDef(se(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(M.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!1},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){try{e.addEventListener("video",(function(e){"AdImpression"===e.eventSubType&&U.getAggregator().trigger("adImpression")}))}catch(e){}}}},ni=function(e,t){var n=function(e){try{var n=e.eventSubType,r=e.eventData;t.trigger("videoPlaybackEvent",{eventType:n,eventData:r})}catch(e){}};return{start:function(){e.addEventListener("video",n)},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},ri=function(){return{accepts:function(){return Q.isAvidNative()}}},ii=function(){return{accepts:function(){return Q.isAvid()&&!Q.isAvidNative()}}},oi=function(e,t){var n=function(e){var n=e.eventData.originalAdContainer,r=!!n,i=new k({x:0,y:0,width:r?n.width:0,height:r?n.height:0}).getRoundedGeometry();i,t.trigger("avidNativeGeometryChanged",{adGeometry:i,adFound:r})};return{start:function(){e.addEventListener("viewability",n)},addAdGeometryMeasurementChangedListener:function(e){t.on("avidNativeGeometryChanged",e)}}},ai=function(e,t){var n=function(e){var n,i=new k(e.eventData.viewport||{width:0,height:0}),o=new k(e.eventData.originalAdContainer||{x:0,y:0,width:0,height:0}),a=new k(e.eventData.computedAdContainer||{x:0,y:0,width:0,height:0});n={viewport:i.getRoundedGeometry(),originalAdContainer:o.getRoundedGeometry(),computedAdContainer:a.getRoundedGeometry(),percentageInView:e.eventData.percentageInView,detectionMethod:M.DETECTION_METHODS.AVID,outOfViewReason:r(e.eventData.reasons)},t.trigger(M.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,n)},r=function(e){var t={inactive:M.OUT_OF_VIEW_REASONS.FOCUS,viewport:M.OUT_OF_VIEW_REASONS.GEOM,clipped:M.OUT_OF_VIEW_REASONS.GEOM,obstructed:M.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:M.OUT_OF_VIEW_REASONS.FOCUS,notFound:M.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(se(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){e.addEventListener("viewability",n)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(M.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateAvidOutOfViewReasons:r}},si=function(e,t){var n,r=function(e){var r,i;try{r=e.eventData.percentageInView,i={windowDimensions:{x:0,y:0,width:0,height:0},adDimensions:{x:0,y:0,width:0,height:0},containerDimensions:{x:0,y:0,width:0,height:0},shouldDelegateToDomBasedViewability:n&&r>=75,isMeasurable:0===r||r>=75,isObstructed:!1,isHidden:!1,numberOfAdverts:1,percentageInView:r,detectionMethod:"av"},t.trigger("screenLocationChanged",i)}catch(e){}};return{start:function(){try{var t=e.getAvidAdSessionContext().avidAdSessionType;n="display"===t||"video"===t,e.addEventListener("viewability",r)}catch(e){}},addScreenLocationChangedListener:function(e){t.on("screenLocationChanged",e)}}},ui=function(e,t){var n=!1,r=function(e){return e>=50},i=function(e){var i=e.percentageInView;n=!0,e.viewState=function(e){return r(e)?M.IN_VIEW:M.OUT_OF_VIEW}(i),e.outOfViewReason=r(i)?"":M.OUT_OF_VIEW_REASONS.GEOM,t.trigger("measurementChanged",e)};return{start:function(){U.getAggregator().trigger("addOutputItem",{output:M.MEDIA_TYPE.DISPLAY_CODE},M.MEDIA_TYPE_CODE,{type:M.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(i),e.start()},getStrategyName:function(){return M.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on("measurementChanged",e)},isMeasurable:function(){return n}}},di=function(e,t,n){var r,i,o,a,s=!1,u=!1,d=!1,c=function(e){return e<50},g=function(){if(!se.isUndef(i)){var e,t,g=[];s?(u?(t=!1,e=100):(t=a,e=o),c(e)&&g.push(M.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,g.push(M.OUT_OF_VIEW_REASONS.VIDEO)),d=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return c(e)?M.OUT_OF_VIEW:M.IN_VIEW}(e),i.outOfViewReason=g.join("."),r=i,n.trigger("measurementChanged",r)}},m=function(e){i=e,o=e.percentageInView,a=e.shouldDelegateToDomBasedViewability,g()},l=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?u=!0:"AdExitedFullscreen"===t?u=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?s=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(s=!1),g()};return{start:function(){U.getAggregator().trigger("addOutputItem",{output:M.MEDIA_TYPE.VIDEO_CODE},M.MEDIA_TYPE_CODE,{type:M.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(m),e.start(),t.addVideoPlaybackEventListener(l),t.start()},getStrategyName:function(){return M.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on("measurementChanged",e)},isMeasurable:function(){return d}}},ci=function(e,t,n){return{accepts:function(){var r=se(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},gi=function(e,t){return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,U.getAggregator().trigger("adImpression"))}))}catch(e){}}}},mi=function(e,t){var n=!1,r=function(){var n,r,i;try{n=e.mraid.isViewable()?100:0;var o={x:0,y:0,width:0,height:0};i=100===n?[!0]:[!1],r={windowDimensions:o,adDimensions:o,containerDimensions:o,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:n,detectionMethod:M.DETECTION_METHODS.MRAID,sliceStatus:i},t.trigger("mraidScreenLocationChanged",r)}catch(e){}},i=function(){var t=e.mraid;!0,r(),t.addEventListener("viewableChange",r)},o=function(){var t=e.mraid;(function(){var t=e.mraid;return se(t).isObj()&&se.isFunction(t.isViewable)})()&&(n=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){i()})):i())},a=function(){n||o()};return{start:function(){var t;t=!0,(se.isDef(e.mraid)||W.containsScriptTagWithSrc("mraid.js"))&&(t=!1),U.getAggregator().trigger("addOutputItem",{output:se.stringifyTriState(t)},"mi",{type:"impression"}),t?U.getAggregator().trigger("exec","mraid.js",a):o()},addScreenLocationChangedListener:function(e){t.on("mraidScreenLocationChanged",e)}}},li=function(e,t){var n=function(e){try{var n=e.type;t.trigger("inMobiMraidVideoPlaybackEvent",{eventType:n})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(n)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on("inMobiMraidVideoPlaybackEvent",e)}}},fi=function(e){var t=U.getAggregator().request("mobileApp");return{getOmidMeasurementStrategies:function(){var e=U.getAggregator().request("omidVerificationClient"),t=new J(e),n=new z,r=[];if(t.accepts()&&!n.accepts()){var i=new X,o=new Wr,a=new kr(e,new F),s=[{environment:i,measurementStrategy:new Hr(e,new F)},{environment:o,measurementStrategy:new qr(new lt,ee.getWindow(),new F)}],u=new Kr(s).resolve(),d=u?u.measurementStrategy:{},c=new Xr(new Jr(new it),new it,o.accepts()),g=new jr(e,t,C.mode),m=new zr(a,d,new F,c),l=new Br(e,t,C.mode),f=new Qr(a,d,new Yr(e,new F),new F,c);r.push({environment:g,measurementStrategy:m}),r.push({environment:l,measurementStrategy:f})}return r},getAvidMeasurementStrategies:function(){var t=U.getAggregator().request("avidJsClient"),n=new Zr(t),r=[];if(n.accepts()){var i,o,a=new ei(t,n,C.mode),s=new ti(t,n,C.mode),u=new ni(t,new F);if(n.supportsAdContainerGeometry()){var d=new ri,c=new ii,g=new qr(new lt,ee.getWindow(),new F),m=new oi(t,new F),l=new Kr([{environment:d,measurementStrategy:m},{environment:c,measurementStrategy:g}]).resolve(),f=l?l.measurementStrategy:{},p=new Xr(new Jr(new it),new it,c.accepts()),v=new ai(t,new F);i=new zr(v,f,new F,p),o=new Qr(v,f,u,new F,p)}else{var E=new si(t,new F);i=new ui(E,new F),o=new di(E,u,new F)}r.push({environment:a,measurementStrategy:i}),r.push({environment:s,measurementStrategy:o}),e.setAvidAdSessionContext(n.getAvidAdSessionContext())}return r},getMraidMeasurementStrategies:function(){var e=[],n=t.isSafeToInjectMraid(),r=new ci(ee.getWindow(),n,t.isMobileAppEnvironment());if(r.accepts()){var i,o=U.getAggregator().request("context"),a=new gi(ee.getWindow(),o),s=new mi(ee.getWindow(),new F);if(a.accepts()){var u=new li(ee.getWindow(),new F);i={environment:a,measurementStrategy:new di(s,u,new F)}}else{i={environment:r,measurementStrategy:new ui(s,new F)}}e.push(i)}return e}}},pi=function(e){var t,n=!1,r={winDimensions:k({scrX:0,scrY:0,width:0,height:0}),adDimensions:k({scrX:0,scrY:0,width:0,height:0}),containerDimensions:k({scrX:0,scrY:0,width:0,height:0}),method:M.NA,viewState:M.NA,percentInView:M.PIV_NA,reason:"",obstructed:M.NA,isHidden:M.NA,tabHidden:M.NA,posViewState:M.NA,adCompCount:1},i=function(e){return e?new k({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):k({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||M.NA,viewState:e.viewState||M.NA,percentInView:se.isDef(e.percentageInView)?e.percentageInView:M.PIV_NA,reason:e.outOfViewReason||"",obstructed:se.stringifyTriState(e.isObstructed),isHidden:M.NA,tabHidden:M.NA,posViewState:e.viewState||M.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn},e.isMeasurable&&(!0,n&&(n=!1,U.getAggregator().trigger("delayedViewabilityReady")))};return{create:function(n){var i=r;return se.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;se.isDef(e)&&se.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},vi=function(e,t,n){var r=se.isDef(e)?e.environment:void 0,i=se.isDef(e)?e.measurementStrategy:void 0,o=function(){return se.isDef(i)};se.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},Ei=function(e,t,n){var r=U.getAggregator().request("mobileApp");return{create:function(){var t=[];t=(t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getAvidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new Kr(t).resolve();n||U.getAggregator().trigger("addOutputItem",{output:"0"},"oam",{type:"impression"});var i=new pi(n);return new vi(n,i,r.isMobileAppEnvironment())}}};var hi=function(){function e(e,t,n,r){var i=function(e){var t=new Zn(e,Q),n=new He,r=new Sn(e,Q),i=Dn(e,Q),o=new sn(C,Q,e).resolve(),a=[t],s=[];return i.applies()&&a.push(i),r.applies()&&a.push(r),n.applies(e,Q)&&a.push(n),se(o).each((function(e,t){a.push(new an(t,Q)),s.push(t.id)})),s.length>0&&(wn.trigger("addOutputItem",{output:s.join(".")},"scm",{type:M.IMPRESSION_EVENT}),wn.trigger("addOutputItem",{output:s},"metricIdList",{type:M.DT_CODES.UNLOAD,asION:!0})),a}(e);return wn.provide("viewabilityDefinitions",i),se(i).map((function(i,o){var a,s,u,d=new Gr(o,t),c=new cr(n,e,o.rts).getCallbacks(),g=new Fn(r.createPingJobs(o.type,o.timeInViewThresholds,c,o.metricId));return o.sendOtherwiseInViewSignal&&(u=new Gr(o,t,o.sendOtherwiseInViewSignal),s=new Fn(r.createPingJobs(o.type,o.timeInViewThresholds,c,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=c,o.thresholdType===M.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?a=new Cr(d,o,g,Q.isVideo()):(a=new Nr(d,new Rr(o.minUnit),g),o.sendOtherwiseInViewSignal&&new Nr(u,new Rr(o.minUnit),s,o.sendOtherwiseInViewSignal).start()),a.start(),a}))}function t(){var e,t;C.isSplitMode&&(t=C.protocol+"://"+C.sp_cdnScripts.main,C.perf.markResource("md",t)),C.impUrl&&C.perf.markResource("id",C.impUrl),e=C.perf.getData(),wn.trigger("addThrottledProp",M.DT_SLOT.IM,"prf",se(e).toION())}function n(e,n,r,i,o,a,s,u,d,c){try{if(C.perf.markStart("lo"),C.tpiLookupURL)Mn(s,u).init(C.tpiLookupURL);Q.isDomless()||c.isStarted()&&c.sendOriginList(),U.runAll(),ee.execAtEndOfThread((function(){!function(e,n,r,i,o,a){var s;try{C.perf.markStart("lt"),s={output:(new Date).getTime()-o},e.addItem(s,"sinceFw",{type:M.DT_CODES.ADTALK}),se.isDef(n.loopStarted())&&e.addItem({output:n.loopStarted()},"readyFired",{type:M.DT_CODES.ADTALK}),C.perf.markEnd("lt"),t(),r.isApplicable(Q)&&r.sendAdTalkCall()}catch(e){i.add(M.ERROR_CODES.ADTALK_DELAY)}}(e,n,r,i,o)})),C.perf.markEnd("lo")}catch(e){i.add(M.ERROR_CODES.EVENT_LOOP_ONE)}}return{instantiateModules:function(){var t,n,r,i,o,a,s,u,d,c,g,m,l={};C.perf.markStart("in"),wn=U.getAggregator(),function(){var e,t,n;n=wn.request("omidAdSessionContext"),e=n.app&&n.isDisplay&&!n.isWeb,(t=C.mobFwUrl&&C.mobFwUrl.indexOf("/blocking/")>-1)&&n.isLimitedSandbox&&"1"===C.adWidth&&"1"===C.adHeight&&(n.isLimitedSandbox=!1);e&&t&&(n.delayingViewabilityEvents=!0);"app"!==n.environment&&!0!==C.mobAppWebview||(C.mobOrTab=!0)}(),l.mFeatures=wn.provide("features",pn()),wn.provide("mobileApp",(function(){return t=t||new zn(l.mFeatures)})),wn.provide("avidJsClient",(function(){return n=n||new Gt(ee.getWindow())})),wn.provide("context",Q),l.mBrowser=wn.provide("browser",(new Jt).createInstance()),l.mErrors=wn.request("mErrors"),l.mIds=wn.provide("ids",Tn()),l.iOutput=new er(wn),wn.request("mJsonp"),l.mComm=wn.request("mComm"),l.viewabilityMeasurement=new Ei(new fi(l.mIds),l.mFeatures,l.mBrowser).create();var f=wn.request("omidAdSessionContext");if(f&&f.queuedOutputItems)for(var p=0;p<f.queuedOutputItems.length;p++)wn.trigger("addOutputItem",{output:f.queuedOutputItems[p].value},f.queuedOutputItems[p].code,{type:"impression"});return l.mFeatures.on("swapids")&&(C.oid=C.asid,C.asid=l.mIds.unq),l.mAdTalk=(new Ft).createInstance(l.mFeatures),r=Zt(),i=vr(wn),o=wn.provide("mPage",(new rr).createInstance()),l.mAncestorOrigins=Lt(),l.mPageUrls=wn.provide("pageUrls",(new ar).createInstance(l.mAncestorOrigins,ee)),a=wn.provide("mScreenEvents",hr()),wn.provide("ieXDomainViewability",On(l.mBrowser)),s=An(l.mBrowser),m=function(e,t){var n=(new X).accepts(),r=!Q.isAvid()&&!n&&!Q.isInMobiMraidVideo();return Q.isVideo()&&r?Lr(C.videoId,e,t):{}}(l.mFeatures,a),l.mVideo=wn.provide("video",m),sr(wr.build()),u=(new Dt).createInstance(l.mErrors,s,l.mFeatures),d=(new Sr).createInstance(u,l.mErrors,o,Q),c=wn.provide("jobFactory",xn()),l.mDataTransfer=un(u,l.mErrors,l.mFeatures,l.mIds,l.iOutput,l.mBrowser,a,r),g=Yt(l.mErrors,l.mFeatures,wn,i),l.mMode=Qn(g,l.mFeatures,l.viewabilityMeasurement.isImmediate()),l.mViewability=wn.provide("viewability",Ur(new F,l.viewabilityMeasurement,l.mBrowser,l.mDataTransfer,l.mFeatures,wn,l.iOutput,d,a,l.mVideo)),e(l.mFeatures,l.mViewability,i,c),l.loopDelay=_e(),l.renderDetector=pr(),l.mDataTransfer.setViewabilityMod(l.mViewability),C.perf.markEnd("in"),l},preImpression:function(e,t,n,r,i,o,a,s,u,d,c,g){var m,l,f,p;C.perf.markStart("pr"),C.b11="1"===C.adHeight&&"1"===C.adWidth?"true":"false",C.cnod=C.contextNode?"true":"false",U.getAggregator().trigger("addOutputItem",{output:g?"1":"0"},"nbld",{type:M.IMPRESSION_EVENT});try{n.isApplicable(d)&&(n.start(),r.addItem(n.getFrameMap(),"fm"),u.on("fm2")&&r.addItem(n.getFrameMapIncludingPeerCase(),"fm2"),u.on("idMap")&&(m=n.getIdMap())&&r.addItem(m,"idMap"))}catch(e){i.add(M.ERROR_CODES.ADTALK_GENERAL)}try{o.isApplicable(a,u,d)&&o.start(),p=s.detectTopURL(),u.on("exch")&&(new fn).createInstance(i,r).parse(p),(l=Qt()).isApplicable(u)&&l.start(u),d.usesGroupMCustomMetric()&&qt(),(f=on()).isApplicable(u)&&(f.start(),wn.trigger("sendCookie")),c.start()}catch(e){i.add(M.ERROR_CODES.IMPRESSION_LEADUP)}return C.perf.markEnd("pr"),p},sendImpression:function(e,t,n,r,i,o,a,s,u){try{bn(e,t,n,r,i,o,a).send(s),se.isFunction(u.triggerInitializationEvents)&&u.triggerInitializationEvents()}catch(e){O("impsend",e,C)}},postImpression:function(e,t,r,i,o,a,s,u,d,c,g,m,l){try{C.perf.markStart("po"),(f=cn()).start(),f.addFieldTypes([M.DT_SLOT.IM,M.DT_SLOT.FF,M.DT_SLOT.ENVIRONMENT,M.DT_SLOT.FF_EXP]),function(e,t,n,r){var i=kn(e,t,n);i.isApplicable(r)&&i.start()}(e,t,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&Ut(t,n,r,i,o).init()}(i,o,a,s,t,u),function(e,t,r,i,o,a,s,u,d){var c;"true"!==C.minimizeCalls&&(c=(new Date).getTime(),ee.execAtEndOfThread((function(){n(e,t,r,i,c,0,a,s,0,d)})))}(u,d,c,s,0,o,a,0,m),function(e){e&&e.start&&e.start()}(g),function(e,t){e.isDomless()||In().start(["sca","xsca","rsrch"],t)}(l,i),Ot(),U.runTier(M.TIERS.VIEWABILITY),function(e){var t=Vn();t.isApplicable(e)&&(t.start(),dr.recordBlockingTime(),C.perf.mark("bl"),dr.setupOnLoadTracking(),dr.setupBrowserDelayTracking())}(i),C.perf.markEnd("po")}catch(e){s.add(M.ERROR_CODES.POST_IMPRESSION)}var f}}}(),Ii=function(e){var t,n,r,i,o,a,s;C.perf.markStart("mf"),Ge(),U.startSystem(),i={},o={},(wn=U.getAggregator()).provide({omidAdSessionContext:i}),wn.provide({omidAdSessionVerificationParameters:o}),t=gn(),n=Ln(),r=(new rn).createInstance(t,n),wn.provide({mErrors:t,mJsonp:n,mComm:r}),a=T,wn.provide({omidVerificationClient:a}),wn.once("callContinueMain",(function(){!function(e){var t,n;C.perf.markStart("cm"),n=hi.instantiateModules(),t=hi.preImpression(n.mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,Q,n.renderDetector,e),hi.sendImpression(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),hi.postImpression(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,Q),C.perf.markEnd("cm")}(e)})),wn.on("tryToCallContinueMain",(function(e){C.isResolved?wn.trigger("callContinueMain"):wn.trigger("requestBootstrapper",e)})),wn.once("requestBootstrapper",(function(e){var t=C.forcedBootstrapperHost||"http://jsconfig.adsafeprotected.com";"string"==typeof e&&(e=JSON.parse(e));var n=e&&e.config,r=e&&e.sca,i=e&&e.xsca;if(n){var o=t+"/jsconfig"+n+(C.adSessionId?"&adSessionId="+C.adSessionId:"");wn.trigger("jsonp",o,(function(e){var t="string"==typeof e;Object.assign(C,t?JSON.parse(e):e),C.isResolved=!0,C.sp_cdnScripts={sca:r,xsca:i},wn.trigger("callContinueMain")}),!1,"cbName")}})),s=[{environment:new J(a),adSessionReadyStrategy:new Ht(a)},{environment:new Wt,adSessionReadyStrategy:new jt}],new Tt(s).resolve().adSessionReadyStrategy.start(),C.perf.markEnd("mf")};try{var Ai="undefined"!=typeof window?window.__IASScope:__IASScope;O=function(){},_(Ai.__IntegralASConfig),w(Ai.__IntegralASConfig,Ai),Ai.__IntegralASConfig.contextNode=Ai.isDomless?void 0:Ai.__IntegralASConfig.contextNode||N(Ai.__IntegralASConfig,Ai.document)(window,top),Ai.__IntegralASConfig.perf=R(Ai.__IntegralASConfig),Ai.__IntegralASConfig.initialize=function(e){try{Ii(!0)}catch(t){O("main",t,e)}};try{Ai.__IntegralASConfig.useFIF?D.a=Ai.parent:D.a=Ai,Ai.__IntegralASConfig.initialize(Ai.__IntegralASConfig)}catch(e){O("initialize",e,Ai.__IntegralASConfig)}}catch(e){Ai.__IntegralASConfig={},O("bootstrapper",e)}}]);
} catch(err) {}
